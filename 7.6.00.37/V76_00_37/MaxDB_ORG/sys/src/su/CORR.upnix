CORR.vdnts
 
Enter command:
FILE XINITDBK !
 
Enter command:
FILE XRESTORE !
 
Enter command:
DBMCLI SUPERDBA,COLDUSER!
UTIL_CONNECT SUPERDBA,COLDUSER!
OK
 
BACKUP_RESTORE XINITDB DATA!
OK
Returncode           0
Date                 DATEXXXX
Time                 TIMEYYYY
Server               <servernode>
Database             <serverdb>
Kernel Version       KERNEL    vv.vv.vv Build bbb-bbb-bbb-bbb
Pages Transferred    000
Pages Left           0
Volumes              1
Medianame            xinitdb
Location             xinitdb.sav
Errortext
Label                <label>
Is Consistent        true
First LOG Page       000
Last LOG Page
DB Stamp 1 Date      DATEXXXX
DB Stamp 1 Time      TIMEYYYY
DB Stamp 2 Date
DB Stamp 2 Time
Page Count           000
Devices Used         1
Database ID          <servernode>:<serverdb>_DATEXXXX_<timestamp>
Max Used Data Page  000
Converter Page Count 8
 
UTIL_EXECUTE CLEAR LOG!
OK
 
DB_ONLINE!
OK
 
UTIL_RELEASE!
OK
 
UTIL_CONNECT SUT,SUT!
OK
 
UTIL_RELEASE!
OK
 
BYE!
 
Enter command:
CONNECT SUT IDENTIFIED BY SUT!
 
Enter command:
CREATE USER KERN PASSWORD TEST DBA NOT EXCLUSIVE !
 
Enter command:
COMMIT WORK RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE T ( K1 CHAR (8) KEY,
                 K2 CHAR (8) KEY,
                 F1 FIXED (7),
                 R1 FIXED (9) RANGE IN (1,2,3,4,5)) !
 
Enter command:
CREATE TABLE T1 ( TK1 FIXED (1) KEY,
                  TK2 CHAR (6))!
 
Enter command:
 * PRISM 77995 ( 2 * ROW NOT FOUND )!
 
Enter command:
SELECT * FROM T WHERE F1 = 3 AND R1 = 5
                  AND EXISTS (SELECT TK2 FROM T1 WHERE TK2 = T.K2) !
 
***ERROR    100 Row not found                                              0001
 
Enter command:
SELECT * FROM T WHERE F1 = 3 AND R1 = 5
                  AND EXISTS (SELECT TK2 FROM T1 WHERE TK2 = T.K2) !
 
***ERROR    100 Row not found                                              0001
 
Enter command:
INSERT T VALUES ('k1', 'k2', 2, 2)!
 
Enter command:
INSERT T VALUES ('k1', 'k3', 1, 2)!
 
Enter command:
INSERT T VALUES ('k1', 'k5', 2, 3)!
 
Enter command:
INSERT T1 SET TK1 = 1, TK2 = 'k2'!
 
Enter command:
INSERT T1 SET TK1 = 2, TK2 = 'k5'!
 
Enter command:
CREATE VIEW VOHNE AS
    SELECT R1, F1, K2, K1 FROM T WHERE F1 < 3 !
 
Enter command:
CREATE VIEW VCHECK AS
    SELECT R1, F1, K2, K1 FROM T WHERE F1 < 3 WITH CHECK OPTION !
 
Enter command:
CREATE VIEW VJOIN AS SELECT * FROM T, T1 !
 
Enter command:
CREATE VIEW VCOMPLEX (VC1) AS SELECT COUNT (*)+3 FROM T1 !
 
Enter command:
CREATE VIEW VCOMPLEX1 (VC1) AS
       SELECT COUNT (*)+3 FROM T HAVING MIN (F1) > 0 !
 
Enter command:
CREATE TABLE L ( LK1 FIXED (9) KEY,
                 LREST CHAR (8))!
 
Enter command:
INSERT L VALUES (1, 'a') !
 
Enter command:
INSERT L VALUES (2, 'a') !
 
Enter command:
INSERT L VALUES (3, 'a') !
 
Enter command:
COMMIT !
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH!
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          2
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
 
resultcount :                     3
 
Enter command:
SELECT * FROM T1!
 
resultcount :               unknown
 
Enter command:
FETCH!
 
TK1 | TK2
----+-------
 1  | k2
 2  | k5
 
resultcount :                     2
 
Enter command:
SELECT * FROM T, T1 WHERE K2 = TK2 !
 
resultcount :                     2
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1         | TK1 | TK2
---------+----------+----------+------------+-----+-------
k1       | k2       |        2 |          2 |  1  | k2
k1       | k5       |        2 |          3 |  2  | k5
 
resultcount :                     2
 
Enter command:
UPDATE T SET F1 = 1 WHERE T.K2 = ( SELECT TK2 FROM T1 WHERE T.K2 = TK2)!
 
resultcount :                     2
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        1 |          2
k1       | k3       |        1 |          2
k1       | k5       |        1 |          3
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE T X SET F1 = 1*7 WHERE K2 = (SELECT TK2 FROM T1 WHERE X.K2 = TK2)!
 
resultcount :                     2
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        7 |          2
k1       | k3       |        1 |          2
k1       | k5       |        7 |          3
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE T SET R1 = 1 WHERE T.K2 = ( SELECT TK2 FROM T1 WHERE T.K2 = TK2)!
 
resultcount :                     2
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          1
k1       | k3       |        1 |          2
k1       | k5       |        2 |          1
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE T SET R1 = 1 KEY K1 = 'k1', K2 = 'k2'
    WHERE K2 = ( SELECT TK2 FROM T1 WHERE T.K2 = TK2)!
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          1
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE T SET R1 = 6 WHERE T.K2 = ( SELECT TK2 FROM T1 WHERE T.K2 = TK2)!
 
***ERROR    300 Integrity violation:R1,T,KERN                              0001
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          2
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE T SET R1 = 6 KEY K1 = 'k1', K2 = 'k2'
    WHERE T.K2 = ( SELECT TK2 FROM T1 WHERE T.K2 = TK2)!
 
***ERROR    300 Integrity violation:R1,T,KERN                              0001
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          2
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE T SET R1 = R1-1
   WHERE T.K2 = ( SELECT TK2 FROM T1 WHERE T.K2 = TK2)!
 
resultcount :                     2
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          1
k1       | k3       |        1 |          2
k1       | k5       |        2 |          2
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE T SET R1 = R1-1 KEY K1 = 'k1', K2 = 'k2'
    WHERE T.K2 = ( SELECT TK2 FROM T1 WHERE T.K2 = TK2)!
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          1
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE T SET R1 = R1+3
   WHERE T.K2 = ( SELECT TK2 FROM T1 WHERE T.K2 = TK2)!
 
***ERROR    300 Integrity violation:R1,T,KERN                              0001
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          2
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE T SET R1 = R1+3 KEY K1 = 'k1', K2 = 'k2'
    WHERE T.K2 = ( SELECT TK2 FROM T1 WHERE T.K2 = TK2)!
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          5
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
INSERT T VALUES ('k2', 'k2', 6, 3)!
 
Enter command:
COMMIT !
 
Enter command:
UPDATE VOHNE SET F1 = 5
     WHERE K2 = ( SELECT TK2 FROM T1 WHERE VOHNE.K2 = TK2)!
 
resultcount :                     2
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        5 |          2
k1       | k3       |        1 |          2
k1       | k5       |        5 |          3
k2       | k2       |        6 |          3
 
resultcount :                     4
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE VOHNE SET F1 = 1*7
      WHERE K2 = (SELECT TK2 FROM T1 WHERE VOHNE.K2 = TK2)!
 
resultcount :                     2
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        7 |          2
k1       | k3       |        1 |          2
k1       | k5       |        7 |          3
k2       | k2       |        6 |          3
 
resultcount :                     4
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE VCHECK SET F1 = 5
      WHERE K2 = ( SELECT TK2 FROM T1 WHERE VCHECK.K2 = TK2)!
 
***ERROR    320 View violation:F1,T,KERN                                   0001
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          2
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
k2       | k2       |        6 |          3
 
resultcount :                     4
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE VCHECK SET F1 = 1*7
      WHERE K2 = ( SELECT TK2 FROM T1 WHERE VCHECK.K2 = TK2)!
 
***ERROR    320 View violation:F1,T,KERN                                   0001
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          2
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
k2       | k2       |        6 |          3
 
resultcount :                     4
 
Enter command:
ROLLBACK !
 
Enter command:
DELETE T KEY K1 = 'k2', K2 = 'k2' !
 
Enter command:
COMMIT !
 
Enter command:
UPDATE VJOIN SET F1 = 1 KEY K1 = 'k1', K2 = 'k2', TK1 = 1
      WHERE K2 =(SELECT TK2 FROM T1 WHERE VJOIN.K2 = TK2)!
 
***ERROR  -5001 Missing privilege:UPDATE                                   0008
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          2
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE VCOMPLEX SET VC1 = 3!
 
***ERROR  -5001 Missing privilege:UPDATE                                   0008
 
Enter command:
UPDATE T SET F1 = 1
       WHERE T.F1 <= (SELECT VC1 FROM VCOMPLEX WHERE T.F1 <= VC1)!
 
***ERROR  -7021 View column derived from function not allowed:VC1          0075
 
Enter command:
UPDATE T SET F1 = 1
       WHERE T.F1 <= (SELECT VC1 FROM VCOMPLEX1 WHERE T.F1 <= VC1)!
 
resultcount :                     3
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        1 |          2
k1       | k3       |        1 |          2
k1       | k5       |        1 |          3
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE T X SET R1 = 5
      WHERE F1 IN (1,2,3) AND
            R1 = (SELECT COUNT (DISTINCT F1)
                         FROM  T
                         WHERE X.R1 = R1)!
 
***ERROR  -7008 Updates of this table not allowed                          0001
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          2
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
ALTER TABLE T FOREIGN KEY LINK1 ( R1 ) REFERENCES L !
 
Enter command:
COMMIT !
 
Enter command:
SELECT * FROM L!
 
resultcount :               unknown
 
Enter command:
FETCH !
 
LK1        | LREST
-----------+---------
         1 | a
         2 | a
         3 | a
 
resultcount :                     3
 
Enter command:
UPDATE T SET R1 = R1-1
   WHERE T.K2 = ( SELECT TK2 FROM T1 WHERE T.K2 = TK2)!
 
resultcount :                     2
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          1
k1       | k3       |        1 |          2
k1       | k5       |        2 |          2
 
resultcount :                     3
 
Enter command:
SELECT * FROM L!
 
resultcount :               unknown
 
Enter command:
FETCH !
 
LK1        | LREST
-----------+---------
         1 | a
         2 | a
         3 | a
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE T SET R1 = R1-1 KEY K1 = 'k1', K2 = 'k2'
    WHERE T.K2 = ( SELECT TK2 FROM T1 WHERE T.K2 = TK2)!
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          1
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
 
resultcount :                     3
 
Enter command:
SELECT * FROM L!
 
resultcount :               unknown
 
Enter command:
FETCH !
 
LK1        | LREST
-----------+---------
         1 | a
         2 | a
         3 | a
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE T SET R1 = R1+1
   WHERE T.K2 = ( SELECT TK2 FROM T1 WHERE T.K2 = TK2)!
 
***ERROR    350 Referential integrity violated:LINK1,KERN,T                0001
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          2
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
 
resultcount :                     3
 
Enter command:
SELECT * FROM L!
 
resultcount :               unknown
 
Enter command:
FETCH !
 
LK1        | LREST
-----------+---------
         1 | a
         2 | a
         3 | a
 
resultcount :                     3
 
Enter command:
ROLLBACK !
 
Enter command:
UPDATE T SET R1 = R1+1 KEY K1 = 'k1', K2 = 'k2'
     WHERE T.K2 = ( SELECT TK2 FROM T1 WHERE T.K2 = TK2)!
 
Enter command:
SELECT * FROM T !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
K1       | K2       | F1       | R1
---------+----------+----------+-----------
k1       | k2       |        2 |          3
k1       | k3       |        1 |          2
k1       | k5       |        2 |          3
 
resultcount :                     3
 
Enter command:
SELECT * FROM L!
 
resultcount :               unknown
 
Enter command:
FETCH !
 
LK1        | LREST
-----------+---------
         1 | a
         2 | a
         3 | a
 
resultcount :                     3
 
Enter command:
DROP TABLE T !
 
Enter command:
DROP TABLE T1 !
 
Enter command:
DROP TABLE L !
 
Enter command:
COMMIT !
 
Enter command:
CREATE TABLE TABX ( K FIXED (18))!
 
Enter command:
INSERT INTO TABX VALUES (1)!
 
Enter command:
SELECT 1 FROM DUAL WHERE 1 = (SELECT GIBTSNICH FROM TABX)!
 
***ERROR  -4005 Unknown column name:GIBTSNICH                              0038
 
Enter command:
SELECT 1 FROM DUAL WHERE 1 = (SELECT K FROM TABX WHERE GIBTSNICH = 3 )!
 
***ERROR  -4005 Unknown column name:GIBTSNICH                              0056
 
Enter command:
ROLLBACK !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CORR2 !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE T2 ( SPALTE1 CHAR(245) ) !
 
Enter command:
CREATE TABLE T3 ( SPALTE1 CHAR(245) ) !
 
Enter command:
INSERT T2 VALUES ( 'a' ) !
 
Enter command:
INSERT T3 VALUES ( 'a' ) !
 
Enter command:
SELECT * FROM T2 WHERE SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
               AND EXISTS ( SELECT * FROM T3 WHERE
                                SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
               AND EXISTS ( SELECT * FROM T3 WHERE
                                SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
               AND EXISTS ( SELECT * FROM T3 WHERE
                                SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
               AND EXISTS ( SELECT * FROM T3 WHERE
                                SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
               AND EXISTS ( SELECT * FROM T3 WHERE
                                SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
               AND EXISTS ( SELECT * FROM T3 WHERE
                                SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
                            AND SPALTE1 = SUBSTR ( 'a' , 1 )
               AND EXISTS ( SELECT * FROM T3 WHERE
                                SPALTE1 = SUBSTR ( 'a' , 1 ) ))))))) !
 
resultcount :                     1
 
Enter command:
DROP TABLE T2 !
 
Enter command:
DROP TABLE T3 !
 
Enter command:
COMMIT WORK RELEASE !
 
Enter command:
FILE CORR3 !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE REL(BKY FIXED (6), NAME CHAR (12))!
 
Enter command:
CREATE TABLE ATT(KEY_OPT CHAR (1), BKY FIXED (6), NAME CHAR (12))!
 
Enter command:
CREATE TABLE SCH(NAME CHAR (16), BKY FIXED (6))!
 
Enter command:
INSERT REL VALUES (3, 'mmmmm')!
 
Enter command:
INSERT REL VALUES (4, 'aaaaa')!
 
Enter command:
INSERT ATT VALUES ('Y', 4, 'attname')!
 
Enter command:
INSERT ATT VALUES ('N', 3, 'attname')!
 
Enter command:
INSERT SCH VALUES ('test', 3)!
 
Enter command:
SELECT FIXED (REL.BKY, 5) BK,
    REL.NAME NAM,
    ATT.NAME ATT,
    ATT.KEY_OPT P
FROM REL, ATT, SCH
WHERE SCH.NAME = 'test'
  AND REL.BKY = SCH.BKY
  AND ((REL.NAME NOT IN
            (SELECT NAME FROM REL WHERE BKY IN
                  ( SELECT BKY FROM ATT
                    WHERE KEY_OPT = 'Y'))
        AND ATT.BKY = REL.BKY )
       OR ( NOT EXISTS
           (SELECT REL.BKY
              FROM ATT, REL, ATT REF
             WHERE REL.BKY = ATT.BKY)))
ORDER BY REL.BKY !
 
resultcount :                     1
 
Enter command:
FETCH !
 
BK     | NAM          | ATT          | P
-------+--------------+--------------+--
     3 | mmmmm        | attname      | N
 
resultcount :                     1
 
Enter command:
DROP TABLE ATT !
 
Enter command:
DROP TABLE REL !
 
Enter command:
DROP TABLE SCH !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE TEST1 ( A FIXED (4), B FIXED (4))!
 
Enter command:
INSERT TEST1 VALUES (1, NULL) !
 
Enter command:
INSERT TEST1 VALUES (2, NULL) !
 
Enter command:
INSERT TEST1 VALUES (3, NULL) !
 
Enter command:
INSERT TEST1 VALUES (4, NULL) !
 
Enter command:
INSERT TEST1 VALUES (5, 5) !
 
Enter command:
INSERT TEST1 VALUES (6, 6) !
 
Enter command:
INSERT TEST1 VALUES (7, 7) !
 
Enter command:
INSERT TEST1 VALUES (8, 8) !
 
Enter command:
CREATE TABLE TEST2 ( A FIXED (5), B FIXED (5))!
 
Enter command:
INSERT TEST2 VALUES (5, 5)!
 
Enter command:
INSERT TEST2 VALUES (5, 6)!
 
Enter command:
SELECT * FROM TEST1 !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
A     | B
------+------
    1 | ?????
    2 | ?????
    3 | ?????
    4 | ?????
    5 |     5
    6 |     6
    7 |     7
    8 |     8
 
resultcount :                     8
 
Enter command:
SELECT * FROM TEST2 !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
A      | B
-------+-------
     5 |      5
     5 |      6
 
resultcount :                     2
 
Enter command:
SELECT A, B  FROM TEST1 WHERE B IS NULL !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
A     | B
------+------
    1 | ?????
    2 | ?????
    3 | ?????
    4 | ?????
 
resultcount :                     4
 
Enter command:
SELECT A, B FROM TEST1 WHERE NOT EXISTS
    (SELECT A, B FROM TEST2 WHERE TEST1.B = TEST2.B)!
 
resultcount :                     6
 
Enter command:
FETCH !
 
A     | B
------+------
    7 |     7
    8 |     8
    1 | ?????
    2 | ?????
    3 | ?????
    4 | ?????
 
resultcount :                     6
 
Enter command:
SELECT A, B FROM TEST1 WHERE NOT EXISTS
    (SELECT A, B FROM TEST2 WHERE TEST1.B = TEST2.B)
                           OR B IS NULL !
 
resultcount :                     6
 
Enter command:
FETCH !
 
A     | B
------+------
    7 |     7
    8 |     8
    1 | ?????
    2 | ?????
    3 | ?????
    4 | ?????
 
resultcount :                     6
 
Enter command:
DROP TABLE TEST1 !
 
Enter command:
DROP TABLE TEST2 !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE CSD_DOMAIN
(
DM_BKY                   FLOAT        (  15 ) KEY,
DM_VERS              FIXED        (  10 ) KEY,
ENTY_VERS            FLOAT        (  15 ) KEY)!
 
Enter command:
CREATE TABLE CSD_ENTY
(
ENTY_BKY                   FLOAT        (  15 ) KEY)!
 
Enter command:
CREATE TABLE CSD_ATTRIBUTE
(
AT_BKY                     FLOAT        (  15 ) KEY,
AT_VERSION_NO              FIXED        (  10 ) KEY,
ENTY_VERS            FLOAT        (  15 ) KEY,
DM_BKY                     FLOAT        (  15 ) ) !
 
Enter command:
INSERT CSD_DOMAIN VALUES (   10, 1, 1 )!
 
Enter command:
INSERT CSD_DOMAIN VALUES (   11, 1, 1 )!
 
Enter command:
INSERT CSD_DOMAIN VALUES (   12, 1, 1 )!
 
Enter command:
INSERT CSD_DOMAIN VALUES (   13, 1, 1 )!
 
Enter command:
INSERT CSD_DOMAIN VALUES (   14, 1, 1 )!
 
Enter command:
INSERT CSD_ENTY VALUES (10)!
 
Enter command:
INSERT CSD_ENTY VALUES (11)!
 
Enter command:
INSERT CSD_ENTY VALUES (12)!
 
Enter command:
INSERT CSD_ENTY VALUES (13)!
 
Enter command:
INSERT CSD_ENTY VALUES (14)!
 
Enter command:
CREATE VIEW MSV_DOMAIN AS SELECT * FROM CSD_ENTY, CSD_DOMAIN
WHERE DM_BKY = ENTY_BKY !
 
Enter command:
INSERT CSD_ATTRIBUTE VALUES (   10, 3, 4,  10)!
 
Enter command:
INSERT CSD_ATTRIBUTE VALUES (   11, 3, 4,  11)!
 
Enter command:
INSERT CSD_ATTRIBUTE VALUES (   13, 3, 4,  13)!
 
Enter command:
INSERT CSD_ATTRIBUTE VALUES (   14, 3, 4,  14)!
 
Enter command:
INSERT CSD_ATTRIBUTE VALUES (   20, 3, 4,NULL)!
 
Enter command:
SELECT * FROM CSD_ENTY, CSD_DOMAIN DOMN
WHERE  NOT EXISTS
       (SELECT * FROM CSD_ATTRIBUTE
        WHERE CSD_ATTRIBUTE.DM_BKY = DOMN.DM_BKY)
  AND DM_BKY = ENTY_BKY !
 
resultcount :                     1
 
Enter command:
FETCH !
 
ENTY_BKY          :   1.20000000000000E+01
DM_BKY            :   1.20000000000000E+01
DM_VERS           :            1
ENTY_VERS         :   1.00000000000000E+00
 
resultcount :                     1
 
Enter command:
SELECT * FROM MSV_DOMAIN DOMN
WHERE  NOT EXISTS
       (SELECT * FROM CSD_ATTRIBUTE
        WHERE CSD_ATTRIBUTE.DM_BKY = DOMN.DM_BKY)!
 
resultcount :                     1
 
Enter command:
FETCH !
 
ENTY_BKY          :   1.20000000000000E+01
DM_BKY            :   1.20000000000000E+01
DM_VERS           :            1
ENTY_VERS         :   1.00000000000000E+00
 
resultcount :                     1
 
Enter command:
DROP TABLE CSD_ENTY !
 
Enter command:
DROP TABLE CSD_ATTRIBUTE !
 
Enter command:
DROP TABLE CSD_DOMAIN !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE AC1010 (
   ACC_NO    CHAR (16) ASCII KEY,
   ACC_DESCR CHAR(30) ASCII,
   DIRP_STAT FIXED(1,0),
   ACC_TYP   FIXED(2,0),
   TRNS_STAT FIXED (1,0),
   SUBL_STAT FIXED(2,0),
   FC_STATUS FIXED(3,0))!
 
Enter command:
INSERT AC1010 VALUES
   ('10000', 'after destruction database', 1, 2, 1, 1, 999)!
 
Enter command:
INSERT AC1010 VALUES
   ('10001', 'after destruction database', 1, 3, 1, 1, -1 )!
 
Enter command:
INSERT AC1010 VALUES
   ('10002', 'after destruction database', 1, 1, 1, 1, 3  )!
 
Enter command:
INSERT AC1010 VALUES
   ('10003', 'after destruction database', 1, 1, 1, 1, 4)!
 
Enter command:
INSERT AC1010 VALUES
   ('10004', 'after destruction database', 1, 3, 1, 1, 999)!
 
Enter command:
INSERT AC1010 VALUES
   ('11111', 'fc_code 1                 ', 1, 3, 1, 1, 1  )!
 
Enter command:
INSERT AC1010 VALUES
   ('20000', 'after destruction database', 1, 3, 1, 1, 10)!
 
Enter command:
INSERT AC1010 VALUES
   ('zu10000', 'niet na destruction database', 1, 1, 0, 99, 3)!
 
Enter command:
INSERT AC1010 VALUES
   ('zu20000', 'niet na destruction database', 1, 1, 0, 99, 3)!
 
Enter command:
INSERT AC1010 VALUES
   ('zu30000', 'niet na destruction database', 1, 2, 0, 99, 3)!
 
Enter command:
INSERT AC1010 VALUES
   ('zu40000', 'niet na destruction database', 1, 3, 0, 99, -1)!
 
Enter command:
INSERT AC1010 VALUES
   ('zu50000', 'niet na destruction database', 1, 2, 0, 99, 999)!
 
Enter command:
INSERT AC1010 VALUES
   ('zu60000', 'niet na destruction database', 1, 2, 0, 99, 999)!
 
Enter command:
INSERT AC1010 VALUES
   ('zu70000', 'niet na destruction database', 1, 1, 0, 99, 999)!
 
Enter command:
INSERT AC1010 VALUES
   ('zu80000', 'niet na destruction database', 1, 2, 0, 99, 999)!
 
Enter command:
COMMIT !
 
Enter command:
CREATE TABLE AC1021 (
   ACC_YEAR    FIXED(4,0) KEY,
   ACC_NO     CHAR (16) ASCII KEY,
   POS_P_NO     FIXED(3,0) KEY,
   POS_P_A_D FLOAT(18),
   POS_P_A_C FLOAT(18))!
 
Enter command:
INSERT AC1021 VALUES
   (1988, '10004', 0, 12, 0)!
 
Enter command:
INSERT AC1021 VALUES
   (1988, 'zu50000', 0, -123, 0)!
 
Enter command:
COMMIT !
 
Enter command:
SELECT * FROM AC1010 !
 
resultcount :               unknown
 
Enter command:
FETCH!
 
ACC_NO            :  10000
ACC_DESCR         :  after destruction database
DIRP_STAT         :   1
ACC_TYP           :    2
TRNS_STAT         :   1
SUBL_STAT         :    1
FC_STATUS         :   999
---------------------------------------------------
ACC_NO            :  10001
ACC_DESCR         :  after destruction database
DIRP_STAT         :   1
ACC_TYP           :    3
TRNS_STAT         :   1
SUBL_STAT         :    1
FC_STATUS         :    -1
---------------------------------------------------
ACC_NO            :  10002
ACC_DESCR         :  after destruction database
DIRP_STAT         :   1
ACC_TYP           :    1
TRNS_STAT         :   1
SUBL_STAT         :    1
FC_STATUS         :     3
---------------------------------------------------
ACC_NO            :  10003
ACC_DESCR         :  after destruction database
DIRP_STAT         :   1
ACC_TYP           :    1
TRNS_STAT         :   1
SUBL_STAT         :    1
FC_STATUS         :     4
---------------------------------------------------
ACC_NO            :  10004
ACC_DESCR         :  after destruction database
DIRP_STAT         :   1
ACC_TYP           :    3
TRNS_STAT         :   1
SUBL_STAT         :    1
FC_STATUS         :   999
---------------------------------------------------
ACC_NO            :  11111
ACC_DESCR         :  fc_code 1
DIRP_STAT         :   1
ACC_TYP           :    3
TRNS_STAT         :   1
SUBL_STAT         :    1
FC_STATUS         :     1
---------------------------------------------------
ACC_NO            :  20000
ACC_DESCR         :  after destruction database
DIRP_STAT         :   1
ACC_TYP           :    3
TRNS_STAT         :   1
SUBL_STAT         :    1
FC_STATUS         :    10
---------------------------------------------------
ACC_NO            :  zu10000
ACC_DESCR         :  niet na destruction database
DIRP_STAT         :   1
ACC_TYP           :    1
TRNS_STAT         :   0
SUBL_STAT         :   99
FC_STATUS         :     3
---------------------------------------------------
ACC_NO            :  zu20000
ACC_DESCR         :  niet na destruction database
DIRP_STAT         :   1
ACC_TYP           :    1
TRNS_STAT         :   0
SUBL_STAT         :   99
FC_STATUS         :     3
---------------------------------------------------
ACC_NO            :  zu30000
ACC_DESCR         :  niet na destruction database
DIRP_STAT         :   1
ACC_TYP           :    2
TRNS_STAT         :   0
SUBL_STAT         :   99
FC_STATUS         :     3
---------------------------------------------------
ACC_NO            :  zu40000
ACC_DESCR         :  niet na destruction database
DIRP_STAT         :   1
ACC_TYP           :    3
TRNS_STAT         :   0
SUBL_STAT         :   99
FC_STATUS         :    -1
---------------------------------------------------
ACC_NO            :  zu50000
ACC_DESCR         :  niet na destruction database
DIRP_STAT         :   1
ACC_TYP           :    2
TRNS_STAT         :   0
SUBL_STAT         :   99
FC_STATUS         :   999
---------------------------------------------------
ACC_NO            :  zu60000
ACC_DESCR         :  niet na destruction database
DIRP_STAT         :   1
ACC_TYP           :    2
TRNS_STAT         :   0
SUBL_STAT         :   99
FC_STATUS         :   999
---------------------------------------------------
ACC_NO            :  zu70000
ACC_DESCR         :  niet na destruction database
DIRP_STAT         :   1
ACC_TYP           :    1
TRNS_STAT         :   0
SUBL_STAT         :   99
FC_STATUS         :   999
---------------------------------------------------
ACC_NO            :  zu80000
ACC_DESCR         :  niet na destruction database
DIRP_STAT         :   1
ACC_TYP           :    2
TRNS_STAT         :   0
SUBL_STAT         :   99
FC_STATUS         :   999
 
resultcount :                    15
 
Enter command:
SELECT * FROM AC1021 !
 
resultcount :               unknown
 
Enter command:
FETCH !
 
ACC_YEAR          :   1988
ACC_NO            :  10004
POS_P_NO          :     0
POS_P_A_D         :   1.20000000000000000E+01
POS_P_A_C         :   0.00000000000000000E+00
---------------------------------------------
ACC_YEAR          :   1988
ACC_NO            :  zu50000
POS_P_NO          :     0
POS_P_A_D         :  -1.23000000000000000E+02
POS_P_A_C         :   0.00000000000000000E+00
 
resultcount :                     2
 
Enter command:
COMMIT !
 
Enter command:
PARS_THEN_EX !
 
Enter command:
SELECT SUM (POS_P_A_D), SUM(POS_P_A_C)
    INTO :A, :B
    FROM AC1021
   WHERE ACC_YEAR = 1988
     AND POS_P_NO = 0
     AND EXISTS
         (SELECT *
              FROM AC1010
             WHERE AC1010.ACC_NO = AC1021.ACC_NO
               AND ACC_TYP <= 3
               AND (SUBL_STAT >= 99 AND SUBL_STAT <= 99)
               AND DIRP_STAT = 1) !
 
EXPRESSION1       :  -1.2300000000000000000000000000000000000E+02
EXPRESSION2       :   0.0000000000000000000000000000000000000E+00
 
Enter command:
SELECT SUM (POS_P_A_D), SUM(POS_P_A_C)
    INTO :A, :B
    FROM AC1021
   WHERE ACC_YEAR = 1988
     AND POS_P_NO = 0
     AND EXISTS
         (SELECT *
              FROM AC1010
             WHERE AC1010.ACC_NO = AC1021.ACC_NO
               AND ACC_TYP <= 3
               AND (SUBL_STAT >= 99 AND SUBL_STAT <= 99)
               AND DIRP_STAT = 1) !
 
EXPRESSION1       :  -1.2300000000000000000000000000000000000E+02
EXPRESSION2       :   0.0000000000000000000000000000000000000E+00
 
Enter command:
PARS_EXECUTE !
 
Enter command:
DROP TABLE AC1010 !
 
Enter command:
DROP TABLE AC1021 !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CORR4 !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE TAB1 (A CHAR (8), B CHAR (8))!
 
Enter command:
CREATE TABLE TAB2 (C CHAR (8), D CHAR (8))!
 
Enter command:
CREATE TABLE TAB3 (E CHAR (8), F CHAR (8))!
 
Enter command:
INSERT TAB1 SET A = 'a', B = 'b1'!
 
Enter command:
INSERT TAB1 SET A = 'b', B = 'b2'!
 
Enter command:
INSERT TAB2 SET C = 'a', D = 'd1'!
 
Enter command:
INSERT TAB2 SET C = 'q', D = 'd2'!
 
Enter command:
INSERT TAB3 SET E = 'c', F = 'f1'!
 
Enter command:
INSERT TAB3 SET E = 'q', F = 'f2'!
 
Enter command:
SELECT 0, '???', TAB2.*, TAB3.*
FROM TAB2, TAB3
WHERE TAB2.C = TAB3.E OR
      NOT EXISTS
      ( SELECT *
        FROM TAB1
        WHERE TAB1.A = TAB2.C )!
 
resultcount :                     2
 
Enter command:
FETCH !
 
EXPRESSION1 | EXPRESSION2 | C        | D        | E        | F
------------+-------------+----------+----------+----------+---------
 0          | ???         | q        | d2       | c        | f1
 0          | ???         | q        | d2       | q        | f2
 
resultcount :                     2
 
Enter command:
SELECT COUNT(*)
FROM TAB2, TAB3
WHERE TAB2.C = TAB3.E OR
      NOT EXISTS
      ( SELECT *
        FROM TAB1
        WHERE TAB1.A = TAB2.C )!
 
resultcount :                     1
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
          2
 
resultcount :                     1
 
Enter command:
SELECT 0, '???', TAB2.*, TAB3.*
FROM TAB2, TAB3
WHERE TAB2.C = TAB3.E OR
      NOT TAB2.C =
      ( SELECT VALUE(MIN(TAB1.A), 'k')
        FROM TAB1
        WHERE TAB1.A = TAB2.C )!
 
resultcount :                     2
 
Enter command:
FETCH !
 
EXPRESSION1 | EXPRESSION2 | C        | D        | E        | F
------------+-------------+----------+----------+----------+---------
 0          | ???         | q        | d2       | c        | f1
 0          | ???         | q        | d2       | q        | f2
 
resultcount :                     2
 
Enter command:
SELECT COUNT(*)
FROM TAB2, TAB3
WHERE TAB2.C = TAB3.E OR
      NOT TAB2.C =
      ( SELECT VALUE(MIN(TAB1.A), 'k')
        FROM TAB1
        WHERE TAB1.A = TAB2.C )!
 
resultcount :                     1
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
          2
 
resultcount :                     1
 
Enter command:
SELECT COUNT(*)
FROM TAB2, TAB3
WHERE
   (
   TAB2.C <> TAB3.E OR
   TAB2.C > ALL (SELECT TAB1.A FROM TAB1)
   )
   AND
      NOT TAB2.C =
      ( SELECT VALUE(MIN(TAB1.A), 'k')
        FROM TAB1
        WHERE TAB1.A = TAB2.C )!
 
resultcount :                     1
 
Enter command:
FETCH!
 
EXPRESSION1
-----------
          2
 
resultcount :                     1
 
Enter command:
SELECT 0, '???', TAB2.*, TAB3.*
FROM TAB2, TAB3
WHERE
   (
   TAB2.C <> TAB3.E OR
   TAB2.C > ALL (SELECT TAB1.A FROM TAB1)
   )
   AND
      NOT TAB2.C =
      ( SELECT VALUE(MIN(TAB1.A), 'k')
        FROM TAB1
        WHERE TAB1.A = TAB2.C )!
 
resultcount :                     2
 
Enter command:
FETCH!
 
EXPRESSION1 | EXPRESSION2 | C        | D        | E        | F
------------+-------------+----------+----------+----------+---------
 0          | ???         | q        | d2       | c        | f1
 0          | ???         | q        | d2       | q        | f2
 
resultcount :                     2
 
Enter command:
DROP TABLE TAB1 !
 
Enter command:
DROP TABLE TAB2 !
 
Enter command:
DROP TABLE TAB3 !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
 * KAERCHER-PROBLEM IN 2.4 ENDE AUGUST 1993 !
 
Enter command:
CREATE TABLE T1 (A1 CHAR(05),
                 A2 CHAR(10)) !
 
Enter command:
INSERT T1 VALUES ('value',  'bbbbb')!
 
Enter command:
INSERT T1 VALUES ('aaaa1',  'value')!
 
Enter command:
INSERT T1 VALUES ('aaaa2',  'bbbbb')!
 
Enter command:
INSERT T1 VALUES ('aaaa3',  'ccccc')!
 
Enter command:
CREATE TABLE T2 (B1 CHAR(05),
                 B2 CHAR(10)) !
 
Enter command:
INSERT T2 VALUES ('value',  'bbbbb')!
 
Enter command:
INSERT T2 VALUES ('aaaa1',  'value')!
 
Enter command:
INSERT T2 VALUES ('aaaa2',  'bbbbb')!
 
Enter command:
CREATE TABLE T3 (C1 CHAR(05),
                 C2 CHAR(10)) !
 
Enter command:
INSERT T3 VALUES ('value',  'bbbbb')!
 
Enter command:
INSERT T3 VALUES ('aaaa1',  'value')!
 
Enter command:
INSERT T3 VALUES ('aaaa2',  'bbbbb')!
 
Enter command:
UPDATE STATISTICS KERN.T1 !
 
Enter command:
UPDATE STATISTICS KERN.T2 !
 
Enter command:
UPDATE STATISTICS KERN.T3 !
 
Enter command:
COMMIT WORK !
 
Enter command:
SELECT COUNT (*) FROM T1, T2 WHERE
  (A1 = 'value'
  OR
    (A1 = 'aaaa2' AND
     A1 = B1))
  AND
  ((NOT EXISTS (SELECT C1 FROM T3
               WHERE C1 = 'xxxxx' AND T2.B1 <> C1))
   OR
   (A2 = 'ccccc'))
!
 
resultcount :                     1
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
          4
 
resultcount :                     1
 
Enter command:
SELECT * FROM T1, T2 WHERE
  (A1 = 'value'
  OR
    (A1 = 'aaaa2' AND
     A1 = B1))
  AND
  ((NOT EXISTS (SELECT C1 FROM T3
               WHERE C1 = 'xxxxx' AND T2.B1 <> C1))
   OR
   (A2 = 'ccccc'))
!
 
resultcount :                     4
 
Enter command:
FETCH !
 
A1    | A2         | B1    | B2
------+------------+-------+-----------
value | bbbbb      | aaaa1 | value
value | bbbbb      | aaaa2 | bbbbb
aaaa2 | bbbbb      | aaaa2 | bbbbb
value | bbbbb      | value | bbbbb
 
resultcount :                     4
 
Enter command:
DROP TABLE T1 !
 
Enter command:
DROP TABLE T2 !
 
Enter command:
DROP TABLE T3 !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CORR5 !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE DOMAIN DM_BLGR   CHAR(2) RANGE IN ('0', 'A', 'B', 'AB')!
 
Enter command:
CREATE DOMAIN DM_C20    CHAR(20) !
 
Enter command:
CREATE DOMAIN DM_C7     CHAR(7) !
 
Enter command:
CREATE DOMAIN DM_C9     CHAR(9) !
 
Enter command:
CREATE DOMAIN DM_C9DEF  CHAR(9) DEFAULT '999999999'!
 
Enter command:
CREATE DOMAIN DM_DAT    DATE RANGE BETWEEN '19600401'
                                       AND '20101231' !
 
Enter command:
CREATE DOMAIN DM_DTB    DATE RANGE BETWEEN '18500101'
                                       AND '20101231' !
 
Enter command:
CREATE DOMAIN DM_D2     DECIMAL(2) !
 
Enter command:
CREATE DOMAIN DM_INS    CHAR(3) RANGE IN ('NO', 'YES') !
 
Enter command:
CREATE DOMAIN DM_INVA_2 DECIMAL(8) RANGE BETWEEN 24000 AND 99999999 !
 
Enter command:
CREATE DOMAIN DM_NOB    DECIMAL(2) RANGE BETWEEN 0 AND 15 !
 
Enter command:
CREATE DOMAIN DM_PNR    DECIMAL(6) RANGE BETWEEN 100000 AND 999999 !
 
Enter command:
CREATE DOMAIN DM_RHF    CHAR(1) RANGE IN ('+', '-') !
 
Enter command:
CREATE DOMAIN DM_SEX    CHAR(1) RANGE IN ('M', 'F') !
 
Enter command:
CREATE DOMAIN DM_STAT   CHAR(4) RANGE IN ('CURR', 'PLAN', 'FORM') !
 
Enter command:
CREATE DOMAIN DM_TORM   CHAR(4) RANGE IN ('TRM', 'NRS', 'RCPT',
                                          'STR', 'VAR') !
 
Enter command:
CREATE TABLE PAT (
  PNR    DM_PNR KEY,
  NM     DM_C20 NOT NULL,
  ADR    DM_C20,
  ZP     DM_C7,
  CTY    DM_C20 NOT NULL,
  PLB    DM_C20,
  DTB    DM_C20 NOT NULL,
  REGD   DM_DAT NOT NULL,
  BLGR   DM_BLGR,
  RHF    DM_RHF,
  SEX    DM_SEX) !
 
Enter command:
CREATE TABLE RM (
  RNR    DM_C9 KEY,
  TORM   DM_TORM NOT NULL,
  FLSP   DM_D2 NOT NULL,
  STATUS DM_STAT NOT NULL,
  NOB    DM_NOB)!
 
Enter command:
CREATE TABLE TRF (
  PNR    DM_PNR NOT NULL,
  TDAT   DM_DAT NOT NULL,
  RNR    DM_C9DEF,
  COM    DM_C20)!
 
Enter command:
CREATE TABLE ADM (
  PNR    DM_PNR NOT NULL,
  ADMD   DM_DAT NOT NULL,
  RNR    DM_C9DEF,
  DISD   DM_DAT,
  DSCH   DM_INS NOT NULL,
  DCSD   DM_INS NOT NULL,
  INVA   DM_INVA_2,
  AFTC   DM_C20)!
 
Enter command:
COMMIT WORK!
 
Enter command:
INSERT PAT SET PNR = 100000,     NM   = 'Werner',    CTY = 'Kiel',
               DTB = '19800401', REGD = DATE !
 
Enter command:
INSERT PAT SET PNR = 100001,     NM   = 'Holgi',     CTY = 'Kiel',
               DTB = '19800401', REGD = DATE !
 
Enter command:
INSERT PAT SET PNR = 100002,     NM   = 'Oelfuss',   CTY = 'Kiel',
               DTB = '19800401', REGD = DATE !
 
Enter command:
INSERT RM  SET RNR = '100000000', TORM='TRM', FLSP = 0, STATUS = 'CURR'!
 
Enter command:
INSERT RM  SET RNR = '100000001', TORM='TRM', FLSP = 1, STATUS = 'CURR'!
 
Enter command:
INSERT RM  SET RNR = '100000002', TORM='TRM', FLSP = 2, STATUS = 'CURR'!
 
Enter command:
INSERT TRF SET PNR = 100000, TDAT = DATE !
 
Enter command:
INSERT TRF SET PNR = 100002, TDAT = DATE !
 
Enter command:
INSERT ADM SET PNR  = 100000, ADMD = DATE,
               DSCH = 'NO',   DCSD = 'NO' !
 
Enter command:
PARS_THEN_EX!
 
Enter command:
DATA!
 
Enter command:
DECLARE PSEUDO_CURSOR CURSOR FOR
SELECT PAT.NM, RM.RNR
  FROM ADM A, PAT, RM, TRF
 WHERE PAT.PNR = A.PNR
   AND A.DSCH = :B
   AND A.ADMD > ALL (
                SELECT TDAT
                  FROM TRF
                 WHERE TRF.PNR = A.PNR)
   AND RM.RNR = A.RNR !
 
c 3 'NO'
 
***ERROR    100 Row not found                                              0001
 
Enter command:
NODATA!
 
Enter command:
PARS_EXECUTE!
 
Enter command:
FETCH PSEUDO_CURSOR!
 
***ERROR    100 Row not found                                              0001
 
Enter command:
DROP TABLE PAT!
 
Enter command:
DROP TABLE RM !
 
Enter command:
DROP TABLE TRF!
 
Enter command:
DROP TABLE ADM!
 
Enter command:
DROP DOMAIN DM_BLGR !
 
Enter command:
DROP DOMAIN DM_C20 !
 
Enter command:
DROP DOMAIN DM_C7 !
 
Enter command:
DROP DOMAIN DM_C9 !
 
Enter command:
DROP DOMAIN DM_C9DEF !
 
Enter command:
DROP DOMAIN DM_DAT !
 
Enter command:
DROP DOMAIN DM_DTB !
 
Enter command:
DROP DOMAIN DM_D2 !
 
Enter command:
DROP DOMAIN DM_INS !
 
Enter command:
DROP DOMAIN DM_INVA_2 !
 
Enter command:
DROP DOMAIN DM_NOB !
 
Enter command:
DROP DOMAIN DM_PNR !
 
Enter command:
DROP DOMAIN DM_RHF !
 
Enter command:
DROP DOMAIN DM_SEX !
 
Enter command:
DROP DOMAIN DM_STAT !
 
Enter command:
DROP DOMAIN DM_TORM !
 
Enter command:
COMMIT WORK RELEASE !
 
Enter command:
FILE CORR6 !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE T ( A FIXED (8)KEY )!
 
Enter command:
INSERT T SET A = 1 !
 
Enter command:
INSERT T SET A = 2 !
 
Enter command:
INSERT T SET A = 3 !
 
Enter command:
INSERT T SET A = 5 !
 
Enter command:
INSERT T SET A = 6 !
 
Enter command:
INSERT T SET A = 7 !
 
Enter command:
INSERT T SET A = 8 !
 
Enter command:
INSERT T SET A = 9 !
 
Enter command:
INSERT T SET A = 10!
 
Enter command:
CREATE TABLE T1 ( B FIXED (8) KEY )!
 
Enter command:
INSERT T1 SET B = 3 !
 
Enter command:
INSERT T1 SET B = 5 !
 
Enter command:
INSERT T1 SET B = 7 !
 
Enter command:
INSERT T1 SET B = 9 !
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS (SELECT * FROM T WHERE
          T.A = X.A+1 AND T.A > X.A  AND A <= 9) AND A <= 9 !
 
resultcount :                     2
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
         4
        10
 
resultcount :                     2
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM T,T1
          WHERE
               T.A = X.A+1 AND T.A > X.A
           AND A = B
           AND A <= 9 AND B <= 9)
           AND A <= 9 !
 
resultcount :                     5
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
         2
         4
         6
         8
        10
 
resultcount :                     5
 
Enter command:
PARS_THEN_EX !
 
Enter command:
DATA !
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS (SELECT * FROM T WHERE
          T.A = X.A+1 AND T.A > X.A  AND A <= :A) AND A <= :B !
 
n 8 9 n 8 9
 
resultcount :                     2
 
Enter command:
NODATA !
 
Enter command:
FETCH INTO :A !
 
EXPRESSION1
-----------
         4
        10
 
resultcount :                     2
 
Enter command:
DATA !
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM T,T1
          WHERE
               T.A = X.A+1 AND T.A > X.A
           AND A = B
           AND A <= :A AND B <= :A)
           AND A <= :A !
 
n 8 9 n 8 9 n 8 9
 
resultcount :                     5
 
Enter command:
NODATA !
 
Enter command:
FETCH INTO :A !
 
EXPRESSION1
-----------
         2
         4
         6
         8
        10
 
resultcount :                     5
 
Enter command:
PARS_EXECUTE !
 
Enter command:
SELECT A-1 FROM T X WHERE NOT EXISTS (SELECT * FROM T WHERE
          T.A = X.A-1 AND T.A <= X.A) AND A <= 9 !
 
resultcount :                     2
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
         0
         4
 
resultcount :                     2
 
Enter command:
SELECT A-1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM T,T1
          WHERE
               T.A = X.A-1 AND T.A <= X.A
           AND A = B
           )
           AND A <= 9 !
 
resultcount :                     6
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
         0
         1
         2
         4
         6
         8
 
resultcount :                     6
 
Enter command:
PARS_THEN_EX !
 
Enter command:
DATA !
 
Enter command:
SELECT A-1 FROM T X WHERE NOT EXISTS (SELECT * FROM T WHERE
          T.A = X.A-1 AND T.A <= X.A) AND A <= :B !
 
n 8 9
 
resultcount :                     2
 
Enter command:
NODATA !
 
Enter command:
FETCH INTO :A !
 
EXPRESSION1
-----------
         0
         4
 
resultcount :                     2
 
Enter command:
DATA !
 
Enter command:
SELECT A-1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM <T,T1>
          WHERE
               T.A = X.A-1 AND T.A <= X.A
           AND A = B
           )
           AND A <= :A !
 
n 8 9
 
resultcount :                     6
 
Enter command:
SELECT A-1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM <T1,T>
          WHERE
               T.A = X.A-1 AND T.A <= X.A
           AND A = B
           )
           AND A <= :A !
 
n 8 9
 
resultcount :                     6
 
Enter command:
NODATA !
 
Enter command:
FETCH INTO :A !
 
EXPRESSION1
-----------
         0
         1
         2
         4
         6
         8
 
resultcount :                     6
 
Enter command:
PARS_EXECUTE !
 
Enter command:
SELECT A+1 FROM T X WHERE EXISTS (SELECT * FROM T WHERE
          T.A = X.A AND A <= 9) AND A <= 9 !
 
resultcount :                     8
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
         2
         3
         4
         6
         7
         8
         9
        10
 
resultcount :                     8
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM T,T1
          WHERE
               T.A = X.A
           AND A = B
           AND A <= 9 AND B <= 9)
           AND A <= 9 !
 
resultcount :                     4
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
         2
         3
         7
         9
 
resultcount :                     4
 
Enter command:
PARS_THEN_EX !
 
Enter command:
DATA !
 
Enter command:
SELECT A+1 FROM T X WHERE EXISTS (SELECT * FROM T WHERE
          T.A = X.A AND A <= :A) AND A <= :B !
 
n 8 9 n 8 9
 
resultcount :                     8
 
Enter command:
NODATA !
 
Enter command:
FETCH INTO :A !
 
EXPRESSION1
-----------
         2
         3
         4
         6
         7
         8
         9
        10
 
resultcount :                     8
 
Enter command:
DATA !
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM T,T1
          WHERE
               T.A = X.A
           AND A = B
           AND A <= :A AND B <= :A)
           AND A <= :A !
 
n 8 9 n 8 9 n 8 9
 
resultcount :                     4
 
Enter command:
NODATA !
 
Enter command:
FETCH INTO :A !
 
EXPRESSION1
-----------
         2
         3
         7
         9
 
resultcount :                     4
 
Enter command:
PARS_EXECUTE !
 
Enter command:
CREATE TABLE T2 ( A FIXED (8) )!
 
Enter command:
CREATE INDEX "t2.a"
 ON T2( A ) !
 
Enter command:
INSERT T2 SET A = 3 !
 
Enter command:
INSERT T2 SET A = 5 !
 
Enter command:
INSERT T2 SET A = 7 !
 
Enter command:
INSERT T2 SET A = 9 !
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS (SELECT * FROM T2 WHERE
          T2.A = X.A+1 AND T2.A > X.A  AND A <= 9) AND A <= 9 !
 
resultcount :                     5
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
         2
         4
         6
         8
        10
 
resultcount :                     5
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM <T2,T1>
          WHERE
               T2.A = X.A+1 AND T2.A > X.A
           AND A = B
           AND A <= 9 AND B <= 9)
           AND A <= 9 !
 
resultcount :                     5
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM <T1,T2>
          WHERE
               T2.A = X.A+1 AND T2.A > X.A
           AND A = B
           AND A <= 9 AND B <= 9)
           AND A <= 9 !
 
resultcount :                     5
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
         2
         4
         6
         8
        10
 
resultcount :                     5
 
Enter command:
PARS_THEN_EX !
 
Enter command:
DATA !
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS (SELECT * FROM T2 WHERE
          T2.A = X.A+1 AND T2.A > X.A  AND A <= :A) AND A <= :B !
 
n 8 9 n 8 9
 
resultcount :                     5
 
Enter command:
NODATA !
 
Enter command:
FETCH INTO :A !
 
EXPRESSION1
-----------
         2
         4
         6
         8
        10
 
resultcount :                     5
 
Enter command:
DATA !
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM <T2,T1>
          WHERE
               T2.A = X.A+1 AND T2.A > X.A
           AND A = B
           AND A <= :A AND B <= :A)
           AND A <= :A !
 
n 8 9 n 8 9 n 8 9
 
resultcount :                     5
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM <T1,T2>
          WHERE
               T2.A = X.A+1 AND T2.A > X.A
           AND A = B
           AND A <= :A AND B <= :A)
           AND A <= :A !
 
n 8 9 n 8 9 n 8 9
 
resultcount :                     5
 
Enter command:
NODATA !
 
Enter command:
FETCH INTO :A !
 
EXPRESSION1
-----------
         2
         4
         6
         8
        10
 
resultcount :                     5
 
Enter command:
PARS_EXECUTE !
 
Enter command:
SELECT A-1 FROM T X WHERE NOT EXISTS (SELECT * FROM T2 WHERE
          T2.A = X.A-1 AND T2.A <= X.A) AND A <= 9 !
 
resultcount :                     6
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
         0
         1
         2
         4
         6
         8
 
resultcount :                     6
 
Enter command:
SELECT A-1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM <T2,T1>
          WHERE
               T2.A = X.A-1 AND T2.A <= X.A
           AND A = B
           )
           AND A <= 9 !
 
resultcount :                     6
 
Enter command:
SELECT A-1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM <T1,T2>
          WHERE
               T2.A = X.A-1 AND T2.A <= X.A
           AND A = B
           )
           AND A <= 9 !
 
resultcount :                     6
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
         0
         1
         2
         4
         6
         8
 
resultcount :                     6
 
Enter command:
PARS_THEN_EX !
 
Enter command:
DATA !
 
Enter command:
SELECT A-1 FROM T X WHERE NOT EXISTS (SELECT * FROM T2 WHERE
          T2.A = X.A-1 AND T2.A <= X.A) AND A <= :B !
 
n 8 9
 
resultcount :                     6
 
Enter command:
NODATA !
 
Enter command:
FETCH INTO :A !
 
EXPRESSION1
-----------
         0
         1
         2
         4
         6
         8
 
resultcount :                     6
 
Enter command:
DATA !
 
Enter command:
SELECT A-1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM <T2,T1>
          WHERE
               T2.A = X.A-1 AND T2.A <= X.A
           AND A = B
           )
           AND A <= :A !
 
n 8 9
 
resultcount :                     6
 
Enter command:
SELECT A-1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM <T1,T2>
          WHERE
               T2.A = X.A-1 AND T2.A <= X.A
           AND A = B
           )
           AND A <= :A !
 
n 8 9
 
resultcount :                     6
 
Enter command:
NODATA !
 
Enter command:
FETCH INTO :A !
 
EXPRESSION1
-----------
         0
         1
         2
         4
         6
         8
 
resultcount :                     6
 
Enter command:
PARS_EXECUTE !
 
Enter command:
SELECT A+1 FROM T X WHERE EXISTS (SELECT * FROM T2 WHERE
          T2.A = X.A AND A <= 9) AND A <= 9 !
 
resultcount :                     4
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
         4
         6
         8
        10
 
resultcount :                     4
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM T2,T1
          WHERE
               T2.A = X.A
           AND A = B
           AND A <= 9 AND B <= 9)
           AND A <= 9 !
 
resultcount :                     4
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
         2
         3
         7
         9
 
resultcount :                     4
 
Enter command:
PARS_THEN_EX !
 
Enter command:
DATA !
 
Enter command:
SELECT A+1 FROM T X WHERE EXISTS (SELECT * FROM T2 WHERE
          T2.A = X.A AND A <= :A) AND A <= :B !
 
n 8 9 n 8 9
 
resultcount :                     4
 
Enter command:
NODATA !
 
Enter command:
FETCH INTO :A !
 
EXPRESSION1
-----------
         4
         6
         8
        10
 
resultcount :                     4
 
Enter command:
DATA !
 
Enter command:
SELECT A+1 FROM T X WHERE NOT EXISTS
          (SELECT A FROM T2,T1
          WHERE
               T2.A = X.A
           AND A = B
           AND A <= :A AND B <= :A)
           AND A <= :A !
 
n 8 9 n 8 9 n 8 9
 
resultcount :                     4
 
Enter command:
NODATA !
 
Enter command:
FETCH INTO :A !
 
EXPRESSION1
-----------
         2
         3
         7
         9
 
resultcount :                     4
 
Enter command:
PARS_EXECUTE !
 
Enter command:
DROP TABLE T !
 
Enter command:
DROP TABLE T1 !
 
Enter command:
DROP TABLE T2 !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CORR7 !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE T ( A CHAR (8), LONG1 CHAR (60), LONG2 CHAR (70))!
 
Enter command:
INSERT T VALUES ('aaa', 'long1', 'long2')!
 
Enter command:
CREATE TABLE T1 (A1 CHAR (8))!
 
Enter command:
INSERT T1 SET A1 = 'aaa'!
 
Enter command:
SELECT * FROM T WHERE EXISTS (SELECT * FROM T1 WHERE T.A = T1.A1)!
 
resultcount :                     1
 
Enter command:
FETCH!
 
A                 :  aaa
LONG1             :  long1
LONG2             :  long2
 
resultcount :                     1
 
Enter command:
SELECT A, LONG2 FROM T WHERE EXISTS (SELECT * FROM T1 WHERE T.A = T1.A1)!
 
resultcount :                     1
 
Enter command:
FETCH!
 
A                 :  aaa
LONG2             :  long2
 
resultcount :                     1
 
Enter command:
CREATE TABLE U ( A CHAR (8), B CHAR (6), C CHAR (7))!
 
Enter command:
INSERT U VALUES ('aaa', 'long1', 'long2')!
 
Enter command:
INSERT U VALUES (NULL, 'long3', 'long4')!
 
Enter command:
CREATE INDEX "u.a"
 ON U( A ) !
 
Enter command:
SELECT * FROM U X WHERE LENGTH(A) >
(SELECT COUNT(B) FROM U WHERE X.A = A)!
 
resultcount :                     1
 
Enter command:
FETCH!
 
A        | B      | C
---------+--------+--------
aaa      | long1  | long2
 
resultcount :                     1
 
Enter command:
DROP TABLE T !
 
Enter command:
DROP TABLE U !
 
Enter command:
DROP TABLE T1 !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CORR8 !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE T ( A DECIMAL (8), B DECIMAL (8))!
 
Enter command:
INSERT INTO T VALUES (4, 1)!
 
Enter command:
INSERT INTO T VALUES (5, 1)!
 
Enter command:
INSERT INTO T VALUES (5, 1)!
 
Enter command:
DECLARE C CURSOR FOR SELECT A, AVG(B)
  FROM T
 GROUP BY A
HAVING EXISTS (SELECT A FROM T X WHERE
X.B = SUM(T.B)) !
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B!
 
A         | EXPRESSION1
----------+---------------------------------------------
        4 |  1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT A, AVG(B)
  FROM T
 GROUP BY A
HAVING EXISTS (SELECT A FROM T X WHERE X.B = AVG(T.B)
                                   AND X.B = COUNT(DISTINCT T.B)
           AND X.B = SUM(T.B))
ORDER BY 1, 2 !
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B !
 
A         | EXPRESSION1
----------+---------------------------------------------
        4 |  1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT 2*A, AVG(B)
  FROM T
 GROUP BY A
HAVING EXISTS (SELECT A FROM T X WHERE
X.B = SUM(T.B)) !
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B!
 
EXPRESSION1 | EXPRESSION2
------------+---------------------------------------------
         8  |  1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT 2*A, AVG(B)
  FROM T
 GROUP BY A
HAVING EXISTS (SELECT A FROM T X WHERE X.B = AVG(T.B)
                                   AND X.B = COUNT(DISTINCT T.B)
           AND X.B = SUM(T.B))
ORDER BY 1, 2 !
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B !
 
EXPRESSION1 | EXPRESSION2
------------+---------------------------------------------
         8  |  1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT A, AVG(B)
  FROM T
 GROUP BY A
HAVING EXISTS (SELECT A FROM T X WHERE
X.B = SUM(T.B)*1) !
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B!
 
A         | EXPRESSION1
----------+---------------------------------------------
        4 |  1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
 
 
 
DECLARE C CURSOR FOR SELECT A, AVG(B)
  FROM T
 GROUP BY A
HAVING EXISTS (SELECT A FROM T X WHERE
X.A = T.A AND
X.B = SUM(T.B)) !
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B!
 
A         | EXPRESSION1
----------+---------------------------------------------
        4 |  1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT A, SUM(B)
  FROM T
 GROUP BY A
HAVING EXISTS (SELECT A FROM T X WHERE
X.A = T.A AND
X.B = AVG(T.B)) !
 
resultcount :                     2
 
Enter command:
FETCH C INTO :A, :B!
 
A         | EXPRESSION1
----------+---------------------------------------------
        4 |  1.0000000000000000000000000000000000000E+00
        5 |  2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT AVG(B)
  FROM T
HAVING EXISTS (SELECT A FROM T X WHERE
X.A = T.A AND
X.B = SUM(T.B)) !
 
***ERROR  -8017 Column must be group column:A                              0001
 
Enter command:
FETCH C INTO :A!
 
***ERROR  -4000 Unknown result table                                       0001
 
Enter command:
CLOSE C !
 
***ERROR  -4000 Unknown result table                                       0007
 
Enter command:
DECLARE C CURSOR FOR SELECT AVG(B)
  FROM T
HAVING EXISTS (SELECT A FROM T X WHERE X.B = MIN(T.B)) !
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A !
 
EXPRESSION1
--------------------------------------------
 1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT AVG(B)
  FROM T
HAVING EXISTS (SELECT A FROM T X WHERE X.B = T.B) !
 
***ERROR  -8017 Column must be group column:B                              0001
 
Enter command:
FETCH C INTO :A !
 
***ERROR  -4000 Unknown result table                                       0001
 
Enter command:
CLOSE C !
 
***ERROR  -4000 Unknown result table                                       0007
 
Enter command:
DECLARE C CURSOR FOR SELECT A, AVG(B)
  FROM T
 GROUP BY A
HAVING EXISTS (SELECT A FROM T X WHERE X.B = SUM(T.B))
ORDER BY 1, 2 !
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B !
 
A         | EXPRESSION1
----------+---------------------------------------------
        4 |  1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT 2*A, AVG(B)
  FROM T
 GROUP BY A
HAVING EXISTS (SELECT A FROM T X WHERE X.B = SUM(T.B))
ORDER BY 1, 2 !
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B !
 
EXPRESSION1 | EXPRESSION2
------------+---------------------------------------------
         8  |  1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT A*A, AVG(B)
  FROM T
 GROUP BY A
HAVING EXISTS (SELECT A FROM T X WHERE X.B = SUM(T.B))
ORDER BY 1, 2 !
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B !
 
EXPRESSION1       | EXPRESSION2
------------------+---------------------------------------------
               16 |  1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT A, AVG(B)
  FROM T
WHERE EXISTS (SELECT A FROM T X WHERE X.B = SUM(T.B)) !
 
***ERROR  -3021 Invalid mixture of functions and columns                   0090
 
Enter command:
FETCH C INTO :A, :B !
 
***ERROR  -4000 Unknown result table                                       0001
 
Enter command:
CLOSE C !
 
***ERROR  -4000 Unknown result table                                       0007
 
Enter command:
DECLARE C CURSOR FOR SELECT A, AVG(B)
  FROM T
WHERE A = (SELECT MIN(A) FROM T X
          HAVING EXISTS (SELECT A FROM T Y WHERE Y.A = MIN(X.A)))!
 
***ERROR  -8017 Column must be group column:A                              0029
 
Enter command:
FETCH C INTO :A, :B !
 
***ERROR  -4000 Unknown result table                                       0001
 
Enter command:
CLOSE C !
 
***ERROR  -4000 Unknown result table                                       0007
 
Enter command:
DECLARE C CURSOR FOR SELECT AVG(B)
  FROM T
WHERE A = (SELECT MIN(A) FROM T X
          WHERE EXISTS (SELECT A FROM T Y WHERE Y.A = X.A))!
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B !
 
EXPRESSION1
--------------------------------------------
 1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT AVG(B)
  FROM T
WHERE A = (SELECT MIN(A) FROM T X
          HAVING EXISTS (SELECT A FROM T Y WHERE Y.A = MIN(X.A)))!
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B !
 
EXPRESSION1
--------------------------------------------
 1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT AVG(B)
  FROM T
HAVING A = (SELECT MIN(A) FROM T X
          HAVING EXISTS (SELECT A FROM T Y WHERE Y.A = MIN(X.A)))!
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B !
 
EXPRESSION1
--------------------------------------------
 1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT AVG(B)
  FROM T
WHERE A = (SELECT MIN(A) FROM T X
          WHERE EXISTS (SELECT A FROM T Y WHERE Y.A = MIN(X.A)))!
 
***ERROR  -3021 Invalid mixture of functions and columns                   0121
 
Enter command:
FETCH C INTO :A, :B !
 
***ERROR  -4000 Unknown result table                                       0001
 
Enter command:
CLOSE C !
 
***ERROR  -4000 Unknown result table                                       0007
 
Enter command:
DECLARE C CURSOR FOR SELECT AVG(B)
  FROM T
HAVING A = (SELECT MIN(A) FROM T X
          WHERE EXISTS (SELECT A FROM T Y WHERE Y.A = X.A))!
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B !
 
EXPRESSION1
--------------------------------------------
 1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT AVG(B)
  FROM T
HAVING A = (SELECT A FROM T X
          WHERE EXISTS (SELECT A FROM T Y WHERE Y.A = X.A))!
 
***ERROR  -7015 More than one result row not allowed                       0001
 
Enter command:
FETCH C INTO :A, :B !
 
***ERROR  -4000 Unknown result table                                       0001
 
Enter command:
CLOSE C !
 
***ERROR  -4000 Unknown result table                                       0007
 
Enter command:
DECLARE C CURSOR FOR SELECT A, AVG(B)
  FROM T
WHERE A = ANY (SELECT MIN(A) FROM T X
          GROUP BY B
          HAVING EXISTS (SELECT A FROM T Y WHERE Y.A = MIN(T.A))) !
 
***ERROR  -8017 Column must be group column:A                              0029
 
Enter command:
FETCH C INTO :A, :B !
 
***ERROR  -4000 Unknown result table                                       0001
 
Enter command:
CLOSE C !
 
***ERROR  -4000 Unknown result table                                       0007
 
Enter command:
DECLARE C CURSOR FOR SELECT A, AVG(B)
  FROM T
HAVING A = ANY (SELECT MIN(A) FROM T X
          GROUP BY B
          HAVING EXISTS (SELECT A FROM T Y WHERE Y.A = MIN(T.A))) !
 
***ERROR  -8017 Column must be group column:A                              0029
 
Enter command:
FETCH C INTO :A, :B !
 
***ERROR  -4000 Unknown result table                                       0001
 
Enter command:
CLOSE C !
 
***ERROR  -4000 Unknown result table                                       0007
 
Enter command:
DECLARE C CURSOR FOR SELECT A
  FROM T
WHERE    A  = ANY (SELECT MIN(A) FROM T X
          WHERE EXISTS (SELECT A FROM T Y WHERE Y.A = T.A)) !
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B !
 
A
---------
        4
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
DECLARE C CURSOR FOR SELECT A, AVG(B)
  FROM T
GROUP BY A
HAVING MAX(A) = ANY (SELECT MIN(A) FROM T X
          GROUP BY B
          HAVING EXISTS (SELECT A FROM T Y WHERE Y.A = MIN(T.A))) !
 
resultcount :                     1
 
Enter command:
FETCH C INTO :A, :B !
 
A         | EXPRESSION1
----------+---------------------------------------------
        4 |  1.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
CLOSE C !
 
Enter command:
COMMIT WORK RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
DROP TABLE T !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE TABX
( K FIXED(5),
  I FIXED(6),
  N FIXED(7),
  PRIMARY KEY( K,N ))!
 
Enter command:
INSERT INTO TABX VALUES( 1, 1, 1)!
 
Enter command:
COMMIT!
 
Enter command:
CREATE TABLE TABY
( K FIXED(8),
  I FIXED(9),
  N FIXED(10),
  PRIMARY KEY( K,N ))!
 
Enter command:
INSERT INTO TABY VALUES( 1, 1, 1)!
 
Enter command:
COMMIT!
 
Enter command:
CREATE TABLE TABZ
( K FIXED(11),
  I FIXED(12),
  N FIXED(13),
  PRIMARY KEY( K,N ))!
 
Enter command:
INSERT INTO TABZ VALUES( 1, 1, 1)!
 
Enter command:
COMMIT!
 
Enter command:
CREATE VIEW A1
  AS SELECT K,I,N FROM TABX
  WHERE K IN ( SELECT N FROM TABY) !
 
Enter command:
CREATE VIEW C2
  AS SELECT K,I,N FROM TABX T0
  WHERE K IN ( SELECT AVG(N) FROM A1
                GROUP BY I
               HAVING T0.K = MIN(N))!
 
Enter command:
COMMIT!
 
Enter command:
SELECT K, I, N
  FROM TABX T0
 WHERE K IN ( SELECT AVG(N)
                FROM TABX
               WHERE K IN (SELECT N
                             FROM TABY)
              GROUP BY I
              HAVING T0.K = MIN(N)
            ) !
 
resultcount :                     1
 
Enter command:
FETCH INTO :A, :B, :C !
 
K      | I       | N
-------+---------+---------
     1 |       1 |        1
 
resultcount :                     1
 
Enter command:
SELECT K, I, N
  FROM TABX T0
 WHERE K IN ( SELECT AVG(N)
                FROM TABX
               WHERE K IN (SELECT N
                             FROM TABY)
              GROUP BY I
              HAVING MIN(N) IN
                  (SELECT N FROM TABX WHERE N = T0.N)
            ) !
 
resultcount :                     1
 
Enter command:
FETCH INTO :A, :B, :C !
 
K      | I       | N
-------+---------+---------
     1 |       1 |        1
 
resultcount :                     1
 
Enter command:
SELECT * FROM C2 !
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
resultcount :                     1
 
Enter command:
FETCH INTO :A, :B, :C !
 
K      | I       | N
-------+---------+---------
     1 |       1 |        1
 
resultcount :                     1
 
Enter command:
PARS_THEN_EX !
 
Enter command:
SELECT * FROM C2 !
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
resultcount :                     1
 
Enter command:
FETCH INTO :A, :B, :C !
 
K      | I       | N
-------+---------+---------
     1 |       1 |        1
 
resultcount :                     1
 
Enter command:
PARSING!
 
Enter command:
DECLARE ERG CURSOR FOR
SELECT T1.K , T1.N FROM TABX T1
WHERE T1.K
IN (SELECT T2.N FROM C2 T2)!
parsing idnr :       1
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
Enter command:
EXECUTING!
 
Enter command:
SELECT     X!
Parsing idnr :      1
 
resultcount :                     1
 
Enter command:
PARS_THEN_EX !
 
Enter command:
FETCH ERG INTO :A, :B, :C !
 
K      | N
-------+---------
     1 |        1
 
resultcount :                     1
 
Enter command:
PARS_EXECUTE !
 
Enter command:
DROP PARSEID !
Parsing idnr :      1
 
Enter command:
DROP TABLE TABX !
 
Enter command:
DROP TABLE TABY !
 
Enter command:
DROP TABLE TABZ !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CORR9 !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE T ( A CHAR (8)) !
 
Enter command:
INSERT T SET A = 'aaa'!
 
Enter command:
INSERT T SET A = 'xxx'!
 
Enter command:
CREATE TABLE T1 ( B CHAR (8))!
 
Enter command:
INSERT T1 SET B = 'aaa'!
 
Enter command:
INSERT T1 SET B = 'xxx'!
 
Enter command:
CREATE TABLE T3 (C CHAR (8))!
 
Enter command:
INSERT T3 SET C = 'bbb'!
 
Enter command:
INSERT T3 SET C = 'ccc'!
 
Enter command:
SELECT * FROM T,T1
  WHERE ROWNO <= 3!
 
resultcount :                     3
 
Enter command:
SELECT * FROM T,T1
  WHERE NOT EXISTS (SELECT * FROM T3)!
 
***ERROR    100 Row not found                                              0001
 
Enter command:
SELECT * FROM T, T1
  WHERE NOT EXISTS (SELECT * FROM T3 WHERE C = T.A )!
 
resultcount :                     4
 
Enter command:
INSERT T3 SET C = 'aaa'!
 
Enter command:
INSERT T3 SET C = 'aaa'!
 
Enter command:
INSERT T3 SET C = 'bbb'!
 
Enter command:
SELECT * FROM T, T1
     WHERE EXISTS (SELECT DISTINCT * FROM T3
                             WHERE C = T.A) !
 
resultcount :                     2
 
Enter command:
SELECT * FROM T, T1
  WHERE NOT EXISTS
         (SELECT DISTINCT * FROM T3 X WHERE
             EXISTS (SELECT * FROM T3 WHERE C = T.A
                             AND C = X.C ) )!
 
resultcount :                     2
 
Enter command:
SELECT * FROM T, T1
  WHERE NOT EXISTS
         (SELECT DISTINCT C FROM T3 X WHERE
             EXISTS (SELECT * FROM T3 WHERE C = T.A
                             AND C = X.C ) )!
 
resultcount :                     2
 
Enter command:
CREATE INDEX "t3.c" ON T3( C ) !
 
Enter command:
SELECT * FROM T, T1
  WHERE NOT EXISTS
         (SELECT DISTINCT C FROM T3 X WHERE
             EXISTS (SELECT * FROM T3 WHERE C = T.A
                             AND C = X.C ) )!
 
resultcount :                     2
 
Enter command:
SELECT * FROM T, T1
  WHERE NOT EXISTS
         (SELECT DISTINCT * FROM T3 X WHERE
             EXISTS (SELECT * FROM T3 WHERE C = T.A
                             AND C = X.C ) )!
 
resultcount :                     2
 
Enter command:
CREATE VIEW V AS SELECT DISTINCT * FROM T3 !
 
Enter command:
SELECT * FROM T
     WHERE EXISTS (SELECT DISTINCT * FROM T3
                             WHERE C = T.A) !
 
resultcount :                     1
 
Enter command:
SELECT * FROM T
     WHERE EXISTS (SELECT * FROM V
                             WHERE C = T.A) !
 
resultcount :                     1
 
Enter command:
PARS_THEN_EX !
 
Enter command:
SELECT * FROM T
     WHERE EXISTS (SELECT * FROM V
                             WHERE C = T.A) !
 
resultcount :                     1
 
Enter command:
SELECT * FROM T, T1
  WHERE NOT EXISTS
         (SELECT * FROM V X WHERE
             EXISTS (SELECT * FROM T3 WHERE C = T.A
                             AND C = X.C ) )!
 
resultcount :                     2
 
Enter command:
SELECT * FROM T, T1
  WHERE NOT EXISTS
         (SELECT * FROM V X WHERE
             EXISTS (SELECT * FROM T3 WHERE C = 'bbb') )!
 
***ERROR    100 Row not found                                              0001
 
Enter command:
SELECT * FROM T, T1
  WHERE NOT EXISTS
         (SELECT * FROM V X WHERE X.C = T.A AND
             EXISTS (SELECT * FROM T3 WHERE C = 'bbb') )!
 
resultcount :                     2
 
Enter command:
SELECT * FROM T, T1
  WHERE NOT EXISTS
         (SELECT * FROM T3 X WHERE X.C = 'bbb' AND
             EXISTS (SELECT * FROM V WHERE V.C = 'bbb') )!
 
***ERROR    100 Row not found                                              0001
 
Enter command:
SELECT * FROM T, T1
  WHERE NOT EXISTS
         (SELECT C FROM V X WHERE
             EXISTS (SELECT * FROM T3 WHERE C = T.A
                             AND C = X.C ) )!
 
resultcount :                     2
 
Enter command:
CREATE VIEW V1 AS SELECT DISTINCT C FROM T3 !
 
Enter command:
SELECT * FROM T, T1
  WHERE NOT EXISTS
         (SELECT * FROM V1 X WHERE
             EXISTS (SELECT * FROM T3 WHERE C = T.A
                             AND C = X.C ) )!
 
resultcount :                     2
 
Enter command:
SELECT * FROM T, T1
  WHERE NOT EXISTS
         (SELECT C FROM V1 X WHERE
             EXISTS (SELECT * FROM T3 WHERE C = T.A
                             AND C = X.C ) )!
 
resultcount :                     2
 
Enter command:
PARS_EXECUTE!
 
Enter command:
ROLLBACK RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE LIWI (
SCHLUESSEL         FIXED (10) KEY,
NAME               CHAR (25),
ART                CHAR (4),
WERT               FIXED (10))!
 
Enter command:
INSERT LIWI VALUES (1, 'Liane', 'R3', 1)!
 
Enter command:
INSERT LIWI VALUES (2, 'Liane', 'R3', 7)!
 
Enter command:
INSERT LIWI VALUES (3, 'Rocco', 'R3', 1)!
 
Enter command:
INSERT LIWI VALUES (4, 'Elke ', 'Kern', 1)!
 
Enter command:
INSERT LIWI VALUES (5, 'Rocco', 'R3', 1)!
 
Enter command:
SELECT * FROM LIWI L
WHERE SCHLUESSEL> (SELECT MIN(SCHLUESSEL) FROM LIWI
                   WHERE NAME IN (SELECT NAME FROM LIWI
                   EXCEPT ALL SELECT DISTINCT NAME FROM LIWI)
                   AND NAME=L.NAME AND ART=L.ART
                   AND ART IN (SELECT ART FROM LIWI
                   EXCEPT ALL SELECT DISTINCT ART FROM LIWI))!
 
***ERROR  -7011 Correlated subquery not allowed                            0122
 
Enter command:
FETCH !
 
***ERROR  -4000 Unknown result table                                       0001
 
Enter command:
ROLLBACK RELEASE!
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE T ( A DATE, B CHAR (8))!
 
Enter command:
INSERT T VALUES ('18940512', 'aaaa')!
 
Enter command:
INSERT T VALUES ('18940131', 'aaaa')!
 
Enter command:
INSERT T VALUES ('18940512', 'bbbb')!
 
Enter command:
INSERT T VALUES ('18940131', 'bbbb')!
 
Enter command:
CREATE TABLE T1 ( C CHAR (8))!
 
Enter command:
INSERT T1 SET C = 'ccc'!
 
Enter command:
SET FORMAT EUR !
 
Enter command:
SELECT * FROM T WHERE A = (SELECT MAX (A) FROM T )!
 
resultcount :                     2
 
Enter command:
FETCH !
 
A          | B
-----------+---------
12.05.1894 | aaaa
12.05.1894 | bbbb
 
resultcount :                     2
 
Enter command:
SELECT * FROM T WHERE A = (SELECT MAX (A) FROM T,T1 )!
 
resultcount :                     2
 
Enter command:
FETCH!
 
A          | B
-----------+---------
12.05.1894 | aaaa
12.05.1894 | bbbb
 
resultcount :                     2
 
Enter command:
SELECT * FROM T X
 WHERE A = (SELECT MAX (A) FROM T WHERE X.B = T.B)!
 
resultcount :                     2
 
Enter command:
FETCH!
 
A          | B
-----------+---------
12.05.1894 | aaaa
12.05.1894 | bbbb
 
resultcount :                     2
 
Enter command:
SET FORMAT INTERNAL !
 
Enter command:
SELECT * FROM T WHERE A = (SELECT MAX (A) FROM T )!
 
resultcount :                     2
 
Enter command:
FETCH!
 
A          | B
-----------+---------
18940512   | aaaa
18940512   | bbbb
 
resultcount :                     2
 
Enter command:
SELECT * FROM T X
 WHERE A = (SELECT MAX (A) FROM T WHERE X.B = T.B)!
 
resultcount :                     2
 
Enter command:
FETCH!
 
A          | B
-----------+---------
18940512   | aaaa
18940512   | bbbb
 
resultcount :                     2
 
Enter command:
ROLLBACK RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE KOM
("SP1               " FIXED (4,0)        ,
 "SP2               " CHAR (1) ASCII  ,
 "GREIF_KNZ         " CHAR (1) ASCII  ) !
 
Enter command:
INSERT KOM VALUES (
   100 , '1' , '1') !
 
Enter command:
INSERT KOM VALUES (
   200 , '2' , '2') !
 
Enter command:
INSERT KOM VALUES (
   300 , '3' , '1') !
 
Enter command:
CREATE TABLE KOP
("TEILE_NR          " FIXED (4,0)        ,
 "GREIF_KNZ         " CHAR (1) ASCII  ) !
 
Enter command:
INSERT KOP VALUES (     1 , '1' )!
 
Enter command:
INSERT KOP VALUES (     1 , '1' )!
 
Enter command:
INSERT KOP VALUES (     1 , '1' )!
 
Enter command:
INSERT KOP VALUES (     2 , '1' )!
 
Enter command:
INSERT KOP VALUES (     2 , '1' )!
 
Enter command:
INSERT KOP VALUES (     2 , '2' )!
 
Enter command:
INSERT KOP VALUES (     2 , '2' )!
 
Enter command:
SELECT  KM.GREIF_KNZ, TEILE_NR
FROM KOP KP, KOM KM
WHERE KP.GREIF_KNZ = '1' !
 
resultcount :                    15
 
Enter command:
FETCH !
 
GREIF_KNZ | TEILE_NR
----------+---------
1         |     1
2         |     1
1         |     1
1         |     1
2         |     1
1         |     1
1         |     1
2         |     1
1         |     1
1         |     2
2         |     2
1         |     2
1         |     2
2         |     2
1         |     2
 
resultcount :                    15
 
Enter command:
SELECT TEILE_NR, COUNT(TEILE_NR)
          FROM KOP KP
          WHERE KP.GREIF_KNZ = '1'
          GROUP BY TEILE_NR !
 
resultcount :                     2
 
Enter command:
FETCH !
 
TEILE_NR | EXPRESSION1
---------+------------
    1    |           3
    2    |           2
 
resultcount :                     2
 
Enter command:
SELECT TEILE_NR, COUNT(TEILE_NR)
          FROM KOP KP
          WHERE KP.GREIF_KNZ = '1'
          GROUP BY TEILE_NR
          HAVING COUNT (KP.TEILE_NR) >= 2 !
 
resultcount :                     2
 
Enter command:
FETCH !
 
TEILE_NR | EXPRESSION1
---------+------------
    1    |           3
    2    |           2
 
resultcount :                     2
 
Enter command:
SELECT TEILE_NR, COUNT(TEILE_NR)
          FROM KOP KP
          WHERE KP.GREIF_KNZ = '2'
          GROUP BY TEILE_NR !
 
resultcount :                     1
 
Enter command:
FETCH !
 
TEILE_NR | EXPRESSION1
---------+------------
    2    |           2
 
resultcount :                     1
 
Enter command:
SELECT TEILE_NR, COUNT(TEILE_NR)
          FROM KOP KP
          WHERE KP.GREIF_KNZ = '2'
          GROUP BY TEILE_NR
          HAVING COUNT (KP.TEILE_NR) >= 2 !
 
resultcount :                     1
 
Enter command:
FETCH !
 
TEILE_NR | EXPRESSION1
---------+------------
    2    |           2
 
resultcount :                     1
 
Enter command:
SELECT  KM.GREIF_KNZ
FROM KOP KP, KOM KM
WHERE KP.GREIF_KNZ = '1'
AND TEILE_NR IN
  (SELECT TEILE_NR
          FROM KOP KP
          WHERE KP.GREIF_KNZ = KM.GREIF_KNZ
          GROUP BY TEILE_NR
          HAVING COUNT (KP.TEILE_NR) >= 2) !
 
resultcount :                    12
 
Enter command:
FETCH !
 
GREIF_KNZ
---------
1
1
1
1
1
1
1
1
1
1
2
2
 
resultcount :                    12
 
Enter command:
PARS_THEN_EX !
 
Enter command:
DATA !
 
Enter command:
SELECT  KM.GREIF_KNZ
FROM KOP KP, KOM KM
WHERE KP.GREIF_KNZ = '1'
AND TEILE_NR IN
  (SELECT TEILE_NR
          FROM KOP KP
          WHERE KP.GREIF_KNZ = KM.GREIF_KNZ
          GROUP BY TEILE_NR
          HAVING COUNT (KP.TEILE_NR) >= :TN) !
 
n 38 2
 
resultcount :                    12
 
Enter command:
NODATA !
 
Enter command:
FETCH INTO :A !
 
GREIF_KNZ
---------
1
1
1
1
1
1
1
1
1
1
2
2
 
resultcount :                    12
 
Enter command:
PARS_EXECUTE !
 
Enter command:
ROLLBACK RELEASE !
 
Enter command:
 
FILE CONNECT ( KERN TEST!
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE TT1 (T1F CHAR(10), T1DATE DATE)!
 
Enter command:
INSERT INTO TT1 VALUES ('Hallo', '19950830')!
 
Enter command:
INSERT INTO TT1 VALUES ('Hallo', '19950728')!
 
Enter command:
CREATE TABLE TT2 (T2F CHAR(10), T2DATE DATE)!
 
Enter command:
INSERT INTO TT2 VALUES ('Hallo', '19950830')!
 
Enter command:
INSERT INTO TT2 VALUES ('Hallo', '19950625')!
 
Enter command:
 
SELECT * FROM TT1 WHERE T1F IN
  (SELECT T2F FROM TT2 WHERE CHAR (T1DATE, USA) = CHAR (T2DATE, USA))!
 
resultcount :                     1
 
Enter command:
SELECT * FROM TT1 WHERE T1F IN
  (SELECT T2F FROM TT2 WHERE ADDDATE (T1DATE, 1) = ADDDATE (T2DATE, 1))!
 
resultcount :                     1
 
Enter command:
 
SELECT * FROM TT1
  WHERE T1F IN (SELECT T2F FROM TT2
      WHERE CHAR (T1DATE, INTERNAL) = CHAR (T2DATE, INTERNAL))!
 
resultcount :                     1
 
Enter command:
SET FORMAT ISO!
 
Enter command:
SELECT * FROM TT1
  WHERE T1F IN (SELECT T2F FROM TT2
      WHERE CHAR (T1DATE, INTERNAL) = CHAR (T2DATE, INTERNAL))!
 
resultcount :                     1
 
Enter command:
SET FORMAT INTERNAL!
 
Enter command:
SELECT * FROM TT1
  WHERE T1F IN (SELECT T2F FROM TT2
                      WHERE CHAR (T1DATE, ISO) = CHAR (T2DATE, ISO))!
 
resultcount :                     1
 
Enter command:
SET FORMAT ISO!
 
Enter command:
SELECT * FROM TT1
  WHERE T1F IN (SELECT T2F FROM TT2
                      WHERE CHAR (T1DATE, ISO) = CHAR (T2DATE, ISO))!
 
resultcount :                     1
 
Enter command:
 
ROLLBACK WORK RELEASE!
 
Enter command:
FILE CONNECT  ( KERN TEST!
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
 
CREATE TABLE TABX
( K FIXED(18),
  N FIXED(18),
  PRIMARY KEY( K,N ))!
 
Enter command:
INSERT INTO TABX VALUES( 1, 1)!
 
Enter command:
CREATE SYNONYM TVA0 FOR TABX!
 
Enter command:
 
COMMIT!
 
Enter command:
 
CREATE VIEW TVA1 AS SELECT K,N FROM TVA0 T0
WHERE K = ( SELECT MAX(N) FROM TVA0 WHERE K = T0.N)!
 
Enter command:
COMMIT!
 
Enter command:
SELECT T0.N FROM TVA1 T0
WHERE T0.N IN (SELECT T1.N FROM  TVA1 T1
             WHERE T0.K = 1)!
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
resultcount :                     1
 
Enter command:
FETCH !
 
N
-------------------
                  1
 
resultcount :                     1
 
Enter command:
CREATE VIEW BVDL1 AS SELECT T0.N FROM TVA1 T0
WHERE T0.N IN (SELECT T1.N FROM  TVA1 T1
             WHERE T0.K = 1)!
 
Enter command:
SELECT * FROM BVDL1 !
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
resultcount :                     1
 
Enter command:
FETCH !
 
N
-------------------
                  1
 
resultcount :                     1
 
Enter command:
 
CREATE VIEW TVA2 AS SELECT K,N FROM TVA1 T0
WHERE K = ( SELECT MAX(N) FROM TVA1 WHERE K = T0.N)!
 
Enter command:
COMMIT!
 
Enter command:
SELECT T0.N FROM TVA2 T0
WHERE T0.N IN (SELECT T1.N FROM  TVA2 T1
               WHERE T0.K = 1)!
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
resultcount :                     1
 
Enter command:
FETCH !
 
N
-------------------
                  1
 
resultcount :                     1
 
Enter command:
CREATE VIEW BVDL2 AS SELECT T0.N FROM TVA2 T0
WHERE T0.N IN (SELECT T1.N FROM  TVA2 T1
               WHERE T0.K = 1)!
 
Enter command:
SELECT * FROM BVDL2 !
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
resultcount :                     1
 
Enter command:
FETCH !
 
N
-------------------
                  1
 
resultcount :                     1
 
Enter command:
CREATE VIEW TVA3 AS SELECT K,N FROM TVA2 T0
WHERE K = ( SELECT MAX(N) FROM TVA2 WHERE K = T0.N)!
 
Enter command:
COMMIT!
 
Enter command:
      SELECT ((((N)))) "N"
        FROM KERN.TABX T0
       WHERE K = (SELECT MAX(N)
                    FROM KERN.TABX TVA0
                    WHERE K = T0.N
                 ) AND
             ( K = (SELECT MAX((N))
                     FROM KERN.TABX T0
                    WHERE K = (SELECT MAX(N)
                                 FROM KERN.TABX TVA0
                                WHERE K = T0.N
                              ) AND
                          ( K = T0.N)
                   ) AND
               ( K = (SELECT MAX((N))
                        FROM TVA1 T0
                       WHERE K = (SELECT MAX(N)
                                    FROM TVA1
                                   WHERE K = T0.N
                                 ) AND
                             ( K = T0.N)
                     ) AND
                 ( T0.N IN (SELECT T1.N
                              FROM TVA3 T1
                             WHERE T0.K = 1
                           )
                 )
                )
               )
      !
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
resultcount :                     1
 
Enter command:
FETCH!
 
N
-------------------
                  1
 
resultcount :                     1
 
Enter command:
SELECT T0.N FROM TVA3 T0
WHERE T0.N IN (SELECT T1.N FROM  TVA3 T1
               WHERE T0.K = 1)!
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
resultcount :                     1
 
Enter command:
FETCH !
 
N
-------------------
                  1
 
resultcount :                     1
 
Enter command:
CREATE VIEW BVDL3 AS SELECT T0.N FROM TVA3 T0
WHERE T0.N IN (SELECT T1.N FROM  TVA3 T1
               WHERE T0.K = 1)!
 
Enter command:
 
SELECT * FROM BVDL3!
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
resultcount :                     1
 
Enter command:
FETCH!
 
N
-------------------
                  1
 
resultcount :                     1
 
Enter command:
DROP TABLE TABX!
 
Enter command:
COMMIT WORK RELEASE!
 
Enter command:
FILE CORR10 !
 
Enter command:
FILE CONNECT ( KERN TEST!
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
 
 
CREATE TABLE A (A1 CHAR (2))!
 
Enter command:
CREATE TABLE B (B1 CHAR (2))!
 
Enter command:
CREATE TABLE C (C1 CHAR (2))!
 
Enter command:
CREATE TABLE D (D1 CHAR (2))!
 
Enter command:
CREATE TABLE E (E1 CHAR (2))!
 
Enter command:
CREATE TABLE F (F1 CHAR (2))!
 
Enter command:
CREATE TABLE G (G1 CHAR (2))!
 
Enter command:
CREATE TABLE H (H1 CHAR (2))!
 
Enter command:
CREATE TABLE I (I1 CHAR (2))!
 
Enter command:
CREATE TABLE J (J1 CHAR (2))!
 
Enter command:
CREATE TABLE K (K1 CHAR (2))!
 
Enter command:
CREATE TABLE L (L1 CHAR (2))!
 
Enter command:
 
INSERT INTO A VALUES ('ab')!
 
Enter command:
INSERT INTO B VALUES ('ab')!
 
Enter command:
INSERT INTO C VALUES ('ab')!
 
Enter command:
INSERT INTO D VALUES ('ab')!
 
Enter command:
INSERT INTO E VALUES ('ab')!
 
Enter command:
INSERT INTO F VALUES ('ab')!
 
Enter command:
INSERT INTO G VALUES ('ab')!
 
Enter command:
INSERT INTO H VALUES ('ab')!
 
Enter command:
INSERT INTO I VALUES ('ab')!
 
Enter command:
INSERT INTO J VALUES ('ab')!
 
Enter command:
INSERT INTO K VALUES ('ab')!
 
Enter command:
INSERT INTO L VALUES ('ab')!
 
Enter command:
 
SELECT A1 FROM A, B WHERE A1=B1 AND A1 IN
  (SELECT C1 FROM C, D WHERE C1=D1 AND D1=B.B1 AND C1 IN
    (SELECT E1 FROM E WHERE E1=A.A1)) AND B1 IN
  (SELECT F1 FROM F WHERE B.B1=F1 AND F1 IN
    (SELECT G1 FROM G, H WHERE G1=F.F1 AND H1 IN
      (SELECT I1 FROM I, J, K WHERE I1=B.B1 AND I1=J1 AND J1=K1) AND G1 IN
      (SELECT L1 FROM L WHERE L1=H.H1)))!
 
resultcount :                     1
 
Enter command:
FETCH!
 
A1
--
ab
 
resultcount :                     1
 
Enter command:
 
SELECT A1 FROM A, B WHERE A1=B1 AND A1 IN
  (SELECT C1 FROM C, D WHERE C1=D1 AND D1=B1 AND C1 IN
    (SELECT E1 FROM E WHERE E1=A1)) AND B1 IN
  (SELECT F1 FROM F WHERE B1=F1 AND F1 IN
    (SELECT G1 FROM G, H WHERE G1=F1 AND H1 IN
      (SELECT I1 FROM I, J, K WHERE I1=B1 AND I1=J1 AND J1=K1) AND G1 IN
      (SELECT L1 FROM L WHERE L1=H1)))!
 
resultcount :                     1
 
Enter command:
FETCH!
 
A1
--
ab
 
resultcount :                     1
 
Enter command:
 
SELECT A1 FROM A, B WHERE A1=B1 AND A1 IN
  (SELECT C1 FROM C, D WHERE C1=D1 AND D1=B1 AND C1 IN
    (SELECT E1 FROM E WHERE E1=A1)) AND B1 IN
  (SELECT F1 FROM F WHERE B1=F1 AND F1 IN
    (SELECT G1 FROM G, H WHERE G1=C1 AND H1 IN
      (SELECT I1 FROM I, J, K WHERE I1=B1 AND I1=J1 AND J1=K1) AND G1 IN
      (SELECT L1 FROM L WHERE L1=H1)))!
 
***ERROR  -4005 Unknown column name:C1                                     0208
 
Enter command:
 
SELECT A1 FROM A, B WHERE A1=B1 AND A1 IN
  (SELECT C1 FROM C, D WHERE C1=D1 AND D1=B1 AND C1 IN
    (SELECT E1 FROM E WHERE E1=A1)) AND B1 IN
  (SELECT F1 FROM F WHERE B1=F1 AND F1 IN
    (SELECT G.G1 FROM G, G H WHERE G.G1=H.G1 AND H.G1 IN
      (SELECT I1 FROM I, J, K WHERE I1=B1 AND I1=J1 AND J1=K1) AND G.G1 IN
      (SELECT L1 FROM L WHERE L1=G1)))!
 
***ERROR  -5014 Missing definite column name:G1                            0327
 
Enter command:
 
DROP TABLE A!
 
Enter command:
DROP TABLE B!
 
Enter command:
DROP TABLE C!
 
Enter command:
DROP TABLE D!
 
Enter command:
DROP TABLE E!
 
Enter command:
DROP TABLE F!
 
Enter command:
DROP TABLE G!
 
Enter command:
DROP TABLE H!
 
Enter command:
DROP TABLE I!
 
Enter command:
DROP TABLE J!
 
Enter command:
DROP TABLE K!
 
Enter command:
DROP TABLE L!
 
Enter command:
 
COMMIT WORK RELEASE!
 
Enter command:
 
 
FILE CONNECT ( KERN TEST!
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
 
CREATE TABLE REL(RKY FIXED (6), NAME CHAR (12))!
 
Enter command:
CREATE TABLE ATT(KEY_OPT CHAR (1), AKY FIXED (6), NAME CHAR (12))!
 
Enter command:
CREATE TABLE SCH(NAME CHAR (16), SKY FIXED (6))!
 
Enter command:
INSERT REL VALUES (3, 'mmmmm')!
 
Enter command:
INSERT REL VALUES (4, 'aaaaa')!
 
Enter command:
INSERT ATT VALUES ('Y', 4, 'attname')!
 
Enter command:
INSERT ATT VALUES ('N', 3, 'attname')!
 
Enter command:
INSERT SCH VALUES ('test', 3)!
 
Enter command:
 
SELECT FIXED (RKY, 5) BK,
     REL.NAME NAM,
     ATT.NAME ATT,
     ATT.KEY_OPT P
FROM REL, ATT, SCH
WHERE SCH.NAME = 'test'
  AND RKY = SKY
  AND ((REL.NAME NOT IN
            (SELECT NAME FROM REL WHERE RKY IN
                  ( SELECT AKY FROM ATT
                    WHERE KEY_OPT = 'Y'))
        AND AKY = RKY )
       OR ( NOT EXISTS
           (SELECT RKY
              FROM ATT, REL, ATT REF
             WHERE RKY = ATT.AKY)))
ORDER BY REL.RKY !
 
resultcount :                     1
 
Enter command:
FETCH !
 
BK     | NAM          | ATT          | P
-------+--------------+--------------+--
     3 | mmmmm        | attname      | N
 
resultcount :                     1
 
Enter command:
DROP TABLE ATT !
 
Enter command:
DROP TABLE REL !
 
Enter command:
DROP TABLE SCH !
 
Enter command:
 
COMMIT RELEASE !
 
Enter command:
 
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE TAB1 (A CHAR (8), B CHAR (8))!
 
Enter command:
CREATE TABLE TAB2 (C CHAR (8), D CHAR (8))!
 
Enter command:
CREATE TABLE TAB3 (E CHAR (8), F CHAR (8))!
 
Enter command:
INSERT TAB1 SET A = 'a', B = 'b1'!
 
Enter command:
INSERT TAB1 SET A = 'b', B = 'b2'!
 
Enter command:
INSERT TAB2 SET C = 'a', D = 'd1'!
 
Enter command:
INSERT TAB2 SET C = 'q', D = 'd2'!
 
Enter command:
INSERT TAB3 SET E = 'c', F = 'f1'!
 
Enter command:
INSERT TAB3 SET E = 'q', F = 'f2'!
 
Enter command:
SELECT 0, '???', TAB2.*, TAB3.*
FROM TAB2, TAB3
WHERE C = E OR
      NOT EXISTS
      ( SELECT *
        FROM TAB1
        WHERE A = C )!
 
resultcount :                     2
 
Enter command:
FETCH !
 
EXPRESSION1 | EXPRESSION2 | C        | D        | E        | F
------------+-------------+----------+----------+----------+---------
 0          | ???         | q        | d2       | c        | f1
 0          | ???         | q        | d2       | q        | f2
 
resultcount :                     2
 
Enter command:
SELECT COUNT(*)
FROM TAB2, TAB3
WHERE C = E OR
      NOT EXISTS
      ( SELECT *
        FROM TAB1
        WHERE A = C )!
 
resultcount :                     1
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
          2
 
resultcount :                     1
 
Enter command:
SELECT 0, '???', TAB2.*, TAB3.*
FROM TAB2, TAB3
WHERE C = E OR
      NOT C =
      ( SELECT VALUE(MIN(A), 'k')
        FROM TAB1
        WHERE A = C )!
 
resultcount :                     2
 
Enter command:
FETCH !
 
EXPRESSION1 | EXPRESSION2 | C        | D        | E        | F
------------+-------------+----------+----------+----------+---------
 0          | ???         | q        | d2       | c        | f1
 0          | ???         | q        | d2       | q        | f2
 
resultcount :                     2
 
Enter command:
SELECT COUNT(*)
FROM TAB2, TAB3
WHERE C = E OR
      NOT C =
      ( SELECT VALUE(MIN(A), 'k')
        FROM TAB1
        WHERE A = C )!
 
resultcount :                     1
 
Enter command:
FETCH !
 
EXPRESSION1
-----------
          2
 
resultcount :                     1
 
Enter command:
SELECT COUNT(*)
FROM TAB2, TAB3
WHERE
   (
   C <> E OR
   C > ALL (SELECT A FROM TAB1)
   )
   AND
      NOT C =
      ( SELECT VALUE(MIN(A), 'k')
        FROM TAB1
        WHERE A = C )!
 
resultcount :                     1
 
Enter command:
FETCH!
 
EXPRESSION1
-----------
          2
 
resultcount :                     1
 
Enter command:
SELECT 0, '???', TAB2.*, TAB3.*
FROM TAB2, TAB3
WHERE
   (
   C <> E OR
   C > ALL (SELECT A FROM TAB1)
   )
   AND
      NOT C =
      ( SELECT VALUE(MIN(A), 'k')
        FROM TAB1
        WHERE A = C )!
 
resultcount :                     2
 
Enter command:
FETCH!
 
EXPRESSION1 | EXPRESSION2 | C        | D        | E        | F
------------+-------------+----------+----------+----------+---------
 0          | ???         | q        | d2       | c        | f1
 0          | ???         | q        | d2       | q        | f2
 
resultcount :                     2
 
Enter command:
DROP TABLE TAB1 !
 
Enter command:
DROP TABLE TAB2 !
 
Enter command:
DROP TABLE TAB3 !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE XXX (
PATADMNO FIXED (6),
PATNAME  CHAR (30),
HALAREANO FIXED (5),
PATACQS CHAR (1),
"days" FIXED (4))!
 
Enter command:
INSERT XXX VALUES (1,'heike',12345,'T',2)!
 
Enter command:
INSERT XXX VALUES (5,'heike',12345,'T',2)!
 
Enter command:
INSERT XXX VALUES (3,'heike',12345,'T',0)!
 
Enter command:
CREATE TABLE PI7PRT (
PRTADMNO FIXED (6),
PRTAREA  FIXED (5),
PRTTXT   FIXED (2),
PRTSTORNONO FIXED (1),
PRTNUMBER FIXED (6))!
 
Enter command:
INSERT PI7PRT VALUES (5, 12345, 0, 0, 0) !
 
Enter command:
INSERT PI7PRT VALUES (5, 12345, 0, 0, 7) !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTADMNO    = X.PATADMNO
                     AND PRTAREA     = X.HALAREANO
                     AND PRTTXT      = 0
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS !
 
resultcount :                     2
 
Enter command:
FETCH!
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        3
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   0.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTADMNO    = X.PATADMNO
                     AND PRTAREA     = X.HALAREANO
                     AND PRTTXT      = 0
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > 0 !
 
resultcount :                     1
 
Enter command:
FETCH!
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTADMNO    = X.PATADMNO
                     AND PRTAREA     = X.HALAREANO
                     AND PRTTXT      = 0
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-1 FROM DUAL) !
 
resultcount :                     1
 
Enter command:
FETCH!
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
 * NO CORR !
 
Enter command:
 *   ONLY WHERE !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTTXT      = 1
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS!
 
resultcount :                     3
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        3
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   0.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     3
 
Enter command:
 *   ONLY HAVING !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE 'heike' = INNERX.PATNAME) !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 *   WHERE AND HAVING !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTTXT      = 1
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE 'heike' = INNERX.PATNAME) !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 * WITH CORR !
 
Enter command:
 *   ONLY WHERE !
 
Enter command:
 *     NO HAVING !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTADMNO    = X.PATADMNO
                     AND PRTAREA     = X.HALAREANO
                     AND PRTTXT      = 0
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        3
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   0.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 *     HAVING WITHOUT SUBQUERY !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTADMNO    = X.PATADMNO
                     AND PRTAREA     = X.HALAREANO
                     AND PRTTXT      = 0
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > 0 !
 
resultcount :                     1
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
 *     HAVING WITH SUBQUERY !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTADMNO    = X.PATADMNO
                     AND PRTAREA     = X.HALAREANO
                     AND PRTTXT      = 0
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE 'heike' = INNERX.PATNAME) !
 
resultcount :                     1
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
 *   ONLY HAVING !
 
Enter command:
 *     NO WHERE !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE X.PATNAME = INNERX.PATNAME) !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 *     WHERE WITHOUT SUBQUERY !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE PATNAME = 'heike'
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE X.PATNAME = INNERX.PATNAME) !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 *     WHERE WITH SUBQUERY !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTTXT      = 1
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE X.PATNAME = INNERX.PATNAME) !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 *   WHERE AND HAVING !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTADMNO    = X.PATADMNO
                     AND PRTAREA     = X.HALAREANO
                     AND PRTTXT      = 0
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE X.PATNAME = INNERX.PATNAME) !
 
resultcount :                     1
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
 
 * SAME AS ABOVE WITH MAX(X.PATNAME) IN HAVING !
 
Enter command:
 * WITH CORR !
 
Enter command:
 *   ONLY HAVING !
 
Enter command:
 *     NO WHERE !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE MAX(X.PATNAME) = INNERX.PATNAME) !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 *     WHERE WITHOUT SUBQUERY !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE PATNAME = 'heike'
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE MAX(X.PATNAME) = INNERX.PATNAME) !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 *     WHERE WITH SUBQUERY !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTTXT      = 1
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE MAX(X.PATNAME) = INNERX.PATNAME) !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 *   WHERE AND HAVING !
 
Enter command:
SELECT PATADMNO, PATNAME, HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTADMNO    = X.PATADMNO
                     AND PRTAREA     = X.HALAREANO
                     AND PRTTXT      = 0
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE MAX(X.PATNAME) = INNERX.PATNAME) !
 
resultcount :                     1
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
 
 * SAME AS ABOVE, BUT WITH AVG IN OUTPUT-LIST TO CHECK
   THE INVISIBLE COLUMN !
 
Enter command:
 * NO CORR !
 
Enter command:
 *   ONLY WHERE !
 
Enter command:
SELECT PATADMNO, PATNAME, AVG("days"), HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTTXT      = 1
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS!
 
resultcount :                     3
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        3
PATNAME           :  heike
EXPRESSION1       :   0.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   0.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     3
 
Enter command:
 *   ONLY HAVING !
 
Enter command:
SELECT PATADMNO, PATNAME, AVG("days"), HALAREANO, PATACQS, SUM("days")
FROM XXX X
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE 'heike' = INNERX.PATNAME) !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 *   WHERE AND HAVING !
 
Enter command:
SELECT PATADMNO, PATNAME, AVG("days"), HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTTXT      = 1
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE 'heike' = INNERX.PATNAME) !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 * WITH CORR !
 
Enter command:
 *   ONLY WHERE !
 
Enter command:
 *     NO HAVING !
 
Enter command:
SELECT PATADMNO, PATNAME, AVG("days"), HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTADMNO    = X.PATADMNO
                     AND PRTAREA     = X.HALAREANO
                     AND PRTTXT      = 0
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        3
PATNAME           :  heike
EXPRESSION1       :   0.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   0.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 *     HAVING WITHOUT SUBQUERY !
 
Enter command:
SELECT PATADMNO, PATNAME, AVG("days"), HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTADMNO    = X.PATADMNO
                     AND PRTAREA     = X.HALAREANO
                     AND PRTTXT      = 0
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > 0 !
 
resultcount :                     1
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
 *     HAVING WITH SUBQUERY !
 
Enter command:
SELECT PATADMNO, PATNAME, AVG("days"), HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTADMNO    = X.PATADMNO
                     AND PRTAREA     = X.HALAREANO
                     AND PRTTXT      = 0
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE 'heike' = INNERX.PATNAME) !
 
resultcount :                     1
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
 *   ONLY HAVING !
 
Enter command:
 *     NO WHERE !
 
Enter command:
SELECT PATADMNO, PATNAME, AVG("days"), HALAREANO, PATACQS, SUM("days")
FROM XXX X
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE X.PATNAME = INNERX.PATNAME) !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 *     WHERE WITHOUT SUBQUERY !
 
Enter command:
SELECT PATADMNO, PATNAME, AVG("days"), HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE PATNAME = 'heike'
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE X.PATNAME = INNERX.PATNAME) !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 *     WHERE WITH SUBQUERY !
 
Enter command:
SELECT PATADMNO, PATNAME, AVG("days"), HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTTXT      = 1
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE X.PATNAME = INNERX.PATNAME) !
 
resultcount :                     2
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
-----------------------------------------------------------------
PATADMNO          :        5
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     2
 
Enter command:
 *   WHERE AND HAVING !
 
Enter command:
SELECT PATADMNO, PATNAME, AVG("days"), HALAREANO, PATACQS, SUM("days")
FROM XXX X
WHERE NOT EXISTS (SELECT PRTADMNO FROM PI7PRT
                   WHERE PRTADMNO    = X.PATADMNO
                     AND PRTAREA     = X.HALAREANO
                     AND PRTTXT      = 0
                     AND PRTSTORNONO = 0
                     AND PRTNUMBER  <> 0)
GROUP BY PATADMNO, PATNAME, HALAREANO, PATACQS
HAVING SUM("days") > (SELECT COUNT(*)-3 FROM XXX INNERX
                        WHERE X.PATNAME = INNERX.PATNAME) !
 
resultcount :                     1
 
Enter command:
FETCH !
 
PATADMNO          :        1
PATNAME           :  heike
EXPRESSION1       :   2.0000000000000000000000000000000000000E+00
HALAREANO         :   12345
PATACQS           :  T
EXPRESSION2       :   2.0000000000000000000000000000000000000E+00
 
resultcount :                     1
 
Enter command:
ROLLBACK RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE T ( A CHAR (8), B CHAR (5))!
 
Enter command:
INSERT T SET A = 'aaaaaaaa', B = 'bbbbb'!
 
Enter command:
SELECT * FROM T X
WHERE 'aaaaaaaa' IN (SELECT A FROM T
                     WHERE B IN ('a','bbbbb','c')
                     AND A IN
                                  (SELECT A FROM T)
                    ) !
 
resultcount :                     1
 
Enter command:
FETCH!
 
A        | B
---------+------
aaaaaaaa | bbbbb
 
resultcount :                     1
 
Enter command:
SELECT * FROM T X
WHERE 'aaaaaaaa' IN (SELECT A FROM T
                     WHERE X.B IN ('a','bbbbb','c')
                     AND A IN
                                  (SELECT A FROM T)
                    ) !
 
resultcount :                     1
 
Enter command:
FETCH!
 
A        | B
---------+------
aaaaaaaa | bbbbb
 
resultcount :                     1
 
Enter command:
SELECT * FROM T X
WHERE 'aaaaaaaa' IN (SELECT A FROM T
                     WHERE X.B IN ('a','bbbbb','c')
                     AND A IN
                                  (SELECT A FROM T)
                     AND 'aaaaaaaa' IN
                                  (SELECT A FROM T)
                    ) !
 
resultcount :                     1
 
Enter command:
FETCH!
 
A        | B
---------+------
aaaaaaaa | bbbbb
 
resultcount :                     1
 
Enter command:
SELECT * FROM T X
WHERE 'aaaaaaaa' IN (SELECT A FROM T
                     WHERE X.B IN ('a','bbbbb','c')
                     AND X.A IN
                                  (SELECT A FROM T)
                    ) !
 
resultcount :                     1
 
Enter command:
FETCH!
 
A        | B
---------+------
aaaaaaaa | bbbbb
 
resultcount :                     1
 
Enter command:
SELECT * FROM T X
WHERE 'aaaaaaaa' IN (SELECT A FROM T
                     WHERE X.B IN
                                  (SELECT B FROM T)
                    ) !
 
resultcount :                     1
 
Enter command:
FETCH !
 
A        | B
---------+------
aaaaaaaa | bbbbb
 
resultcount :                     1
 
Enter command:
ROLLBACK RELEASE !
 
Enter command:
FILE CORR11 !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE BTXTAX (
BSIAUTH CHAR    (8) ASCII,
TAXTYPE CHAR    (2) ASCII,
EFFECTIVE CHAR  (8) ASCII,
RESCIND CHAR    (8) ASCII,
PRIMARY KEY (BSIAUTH ,TAXTYPE ,EFFECTIVE)) !
 
Enter command:
INSERT BTXTAX VALUES ('00000000','01','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','01','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','01','19950101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','02','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','02','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','02','19950101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','03','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','03','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','03','19950101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','04','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','04','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','04','19950101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','05','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','05','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','06','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','06','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','10','19830101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','55','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','55','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','55','19950101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','56','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','56','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','56','19950101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','57','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','57','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','57','19950101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','58','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','58','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','58','19950101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','59','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','59','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','59','19950101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','60','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','60','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00000000','60','19950101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010000','01','19850101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010000','10','19830101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010001','51','19810101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010002','51','19910201','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010003','51','19870623','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010004','51','19901207','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010005','51','19860401','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010006','51','19780307','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010007','51','19830620','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010008','51','19861001','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010009','51','19781001','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010010','51','19910901','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010011','51','19690901','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010012','51','19781001','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010013','51','19930801','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010014','51','19890101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010015','51','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010073','01','19830101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010073','51','19830101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010501','01','19701201','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010501','51','19701201','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010521','01','19880101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00010521','51','19880101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00040000','01','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00040000','01','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00040000','10','19830101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00100000','01','19880101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00100000','10','19870101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00100502','01','19830701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00120000','10','19830101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00130000','01','19870101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00130000','01','19940701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00130000','10','19900101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240000','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240000','01','19950101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240000','10','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240001','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240002','01','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240003','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240004','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240004','01','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240005','01','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240006','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240007','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240008','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240008','01','19960101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240009','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240009','01','19960101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240010','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240011','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240012','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240013','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240014','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240015','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240016','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240017','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240018','01','19930101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240019','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240019','01','19950101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240020','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240020','01','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240021','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240021','01','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240022','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240023','01','19920701','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240023','01','19940101','00000000')!
 
Enter command:
INSERT BTXTAX VALUES ('00240101','01','19920701','00000000')!
 
Enter command:
COMMIT !
 
Enter command:
SELECT BSIAUTH, TAXTYPE, EFFECTIVE, RESCIND
INTO :P_1 , :P_2 , :P_3 , :P_4
FROM BTXTAX A
WHERE
   A.BSIAUTH = '00000000' AND
   A.TAXTYPE = '01' AND
   A.EFFECTIVE = (SELECT MAX(EFFECTIVE)
                  FROM BTXTAX B
                  WHERE
                    A.BSIAUTH = B.BSIAUTH AND A.TAXTYPE = B.TAXTYPE AND
                    B.EFFECTIVE <= '20250101')
                 AND
(A.RESCIND > '20250101' OR A.RESCIND = '00000000')!
 
BSIAUTH           :  TIMEYYYY
TAXTYPE           :  01
EFFECTIVE         :  19950101
RESCIND           :  TIMEYYYY
 
Enter command:
DROP TABLE BTXTAX !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CONNECT ( SUT SUT !
 
Enter command:
CONNECT SUT IDENTIFIED BY SUT   ISOLATION LEVEL 1 !
 
Enter command:
CREATE USER "ACCOUNT" PASSWORD TEST DBA NOT EXCLUSIVE !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CONNECT ( "ACCOUNT" TEST !
 
Enter command:
CONNECT "ACCOUNT" IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE "ACCOUNT"."REVENUE" (
"CUSTOMER" CHAR(20) ASCII ,
"COUNTRY" CHAR(3) ASCII ,
"YEARQU" CHAR(7) ASCII ,
"INVLICENCE" FIXED(9,0) ,
"INVMAINTENANCE" FIXED(9,0) ,
"INVSERVICE" FIXED(9,0) ,
"LASTUPDATEUSER" CHAR(8) ASCII NOT NULL
, PRIMARY KEY ("CUSTOMER" ,"COUNTRY" ,"YEARQU"))  !
 
Enter command:
INSERT REVENUE VALUES ('ZZEGAL','FRA','1997/Q4',1,2,3,'ELKE')!
 
Enter command:
CREATE TABLE "ACCOUNT"."PIPELINE" (
"CUSTOMER" CHAR(20) ASCII ,
"COUNTRY" CHAR(3) ASCII ,
"PYEARQU" CHAR(7) ASCII ,
"IYEARQU" CHAR(7) ASCII ,
"LICENCE" FIXED(9,0) ,
"LICENCEPB" FIXED(3,0) DEFAULT 100,
"MAINTENANCE" FIXED(9,0) ,
"MAINTENANCEPB" FIXED(3,0) DEFAULT 100,
"SERVICES" FIXED(9,0) ,
"SERVICESPB" FIXED(3,0) DEFAULT 100,
"LASTUPDATEUSER" CHAR(8) ASCII NOT NULL
, CONSTRAINT "CONSTRAINT1" CHECK MAINTENANCEPB IN (25,50,75,100)
, CONSTRAINT "CONSTRAINT2" CHECK SERVICESPB IN (25,50,75,100)
, CONSTRAINT "PERCENT" CHECK LICENCEPB IN (25,50,75,100)
, PRIMARY KEY ("CUSTOMER" ,"COUNTRY" ,"PYEARQU" ,"IYEARQU"))!
 
Enter command:
INSERT PIPELINE VALUES ('ZZEGAL1 ','POL','1999/Q1','1998/Q2',1,25,3,
50,5,75,'ELKE')!
 
Enter command:
SELECT  REV.CUSTOMER FROM REVENUE REV
 UNION
 SELECT PIP.CUSTOMER  FROM PIPELINE PIP
    WHERE PIP.CUSTOMER = 'ZZEGAL1'
      AND PIP.COUNTRY  BETWEEN ' ' AND 'ZZZ'
      AND PIP.PYEARQU   BETWEEN '1997/Q1' AND '2000/Q4'
      AND PIP.IYEARQU IN
        (SELECT MAX(PIP2.IYEARQU)
           FROM PIPELINE PIP2
           WHERE PIP2.CUSTOMER = PIP.CUSTOMER
             AND PIP2.COUNTRY  = PIP.COUNTRY
             AND PIP2.PYEARQU  = PIP.PYEARQU
             AND PIP2.PYEARQU NOT IN
             (SELECT REV1.YEARQU FROM REVENUE REV1
                 WHERE REV1.CUSTOMER = 'ZZEGAL')   )!
 
resultcount :                     2
 
Enter command:
FETCH INTO :A !
 
CUSTOMER
--------------------
ZZEGAL
ZZEGAL1
 
resultcount :                     2
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CONNECT ( SUT SUT !
 
Enter command:
CONNECT SUT IDENTIFIED BY SUT   ISOLATION LEVEL 1 !
 
Enter command:
DROP USER "ACCOUNT" !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE "S_TG_ME_PN"         (
"TAG_ID            " DATE      ,
"MEDIUM_ID         " CHAR      (2) ASCII    ,
"PN1_KEY           " CHAR      (10) ASCII    ,
"UMSATZ_DM_S       " FIXED     (15,2) ,
"UMSATZ_DM_H       " FIXED     (15,2) ,
"UMSATZ_EURO_S     " FIXED     (15,2) ,
"UMSATZ_EURO_H     " FIXED     (15,2) ,
"GEBUEHR_DM        " FIXED     (8,2) ,
"GEBUEHR_EURO      " FIXED     (8,2) ,
"ANZAHL_S          " FIXED     (9,0) ,
"ANZAHL_H          " FIXED     (9,0)
, PRIMARY KEY ("TAG_ID"
,"MEDIUM_ID"
,"PN1_KEY"
))
!
 
Enter command:
CREATE INDEX  "S_TG_ME_PN.MEDIUM_ID"
    ON  S_TG_ME_PN( MEDIUM_ID ASC ) !
 
Enter command:
CREATE INDEX  "S_TG_ME_PN.PN1_KEY"
    ON S_TG_ME_PN( PN1_KEY ASC ) !
 
Enter command:
CREATE INDEX  "S_TG_ME_PN.TAG_ID"
    ON S_TG_ME_PN( TAG_ID ASC ) !
 
Enter command:
INSERT INTO "S_TG_ME_PN"        VALUES (
'19970609','AE','AA10CI9831', 434.06,434.06,0,0,0,0,1,1)!
 
Enter command:
INSERT INTO "S_TG_ME_PN"        VALUES (
'19970609','AE','AA10QR9831',1002.00,0,0,0,0,0,1,0)!
 
Enter command:
INSERT INTO "S_TG_ME_PN"        VALUES (
'19970609','AE','AA11GI9831',1000.00,1000.00,0,0,0,0,1,1)!
 
Enter command:
INSERT INTO "S_TG_ME_PN"        VALUES (
'19970609','AE','AA15AE9831',677.95,0,0,0,0,0,1,0)!
 
Enter command:
INSERT INTO "S_TG_ME_PN"        VALUES (
'19970609','AE','AA15AT9831',746.94,0,0,0,0,0,2,0)!
 
Enter command:
INSERT INTO "S_TG_ME_PN"        VALUES (
'19970609','AE','AA69AQ9831',2091.00,0,0,0,0,0,2,0)!
 
Enter command:
COMMIT !
 
Enter command:
CREATE TABLE "UMSATZ"             (
"TAG_ID            " DATE      ,
"LFD_NR            " FIXED     (9,0) ,
"KUNDE_ID          " CHAR      (10) ASCII    ,
"ORGA1_KEY         " CHAR      (12) ASCII    ,
"PN1_KEY           " CHAR      (10) ASCII    ,
"PRD1_KEY          " CHAR      (14) ASCII    ,
"BANK1_KEY         " CHAR      (10) ASCII    ,
"MEDIUM_ID         " CHAR      (2) ASCII    ,
"FWEN1_KEY         " CHAR      (12) ASCII    ,
"VERW_ZWECK_ID     " CHAR      (2) ASCII    ,
"KTO_ALT_ID        " CHAR      (10) ASCII    ,
"STUNDE            " FIXED     (2,0) ,
"UMSATZ_DM_S       " FIXED     (15,2) ,
"UMSATZ_DM_H       " FIXED     (15,2) ,
"UMSATZ_EURO_S     " FIXED     (15,2) ,
"UMSATZ_EURO_H     " FIXED     (15,2) ,
"GEBUEHR_DM        " FIXED     (5,2) ,
"GEBUEHR_EURO      " FIXED     (5,2) ,
"VALUTA            " FIXED     (8,0) ,
"KZ_FREMDKUNDE     " CHAR      (1) ASCII    ,
"TEXTSCHLUESSEL    " FIXED     (2,0) ,
"ZUSATZTEXT        " FIXED     (3,0) ,
"LEITWEG_AUSG_EINR " FIXED     (10,0) ,
"KZ_EIN_AUSGANG    " CHAR      (1) ASCII    ,
"PRIMANOTA         " CHAR      (8) ASCII    ,
"KONTO_NR          " FIXED     (10,0) ,
"GEGEN_KONTO_NR    " FIXED     (10,0) ,
"GEGEN_BIL_SCHL    " FIXED     (6,0) ,
"KZ_REFERENZ_NR    " FIXED     (1,0) ,
"ANZAHL_S          " FIXED     (1,0) ,
"ANZAHL_H          " FIXED     (1,0) ,
"UR_WAEHRUNG       " CHAR      (3) ASCII    ,
"VERWENDUNGSZWECK1 " VARCHAR   (27) ASCII    ,
"VERWENDUNGSZWECK2 " VARCHAR   (27) ASCII
, PRIMARY KEY ("TAG_ID"
,"LFD_NR"
))
!
 
Enter command:
CREATE INDEX "UMSATZ.TAG_ID"
    ON UMSATZ( TAG_ID ASC ) !
 
Enter command:
INSERT INTO UMSATZ VALUES (
'19970609',8391,'3304299000','AAAAAAAA69AQ','AA69AQ9831',
'ABABACAC200000','AD30020900','AE','ABABAI070000','..',
'0000000000',7,2000.00,0.00,0.00,0.00,0.00,0.00,19970609,'1',
20,75,0,'E','69AQ9831',3304299000,5049170097,0,0,1,0,'000',
'KARTENR.4917874297447007','')!
 
Enter command:
INSERT INTO UMSATZ VALUES (
'19970609',8392,'3304299000','AAAAAAAA69AQ','AA69AQ9831',
'ABABACAC200000','AF20040000','AE','ABABAI070000','..',
'0000000000',7,91.00,0.00,0.00,0.00,0.00,0.00,19970609,'1',
20,75,0,'E','69AQ9831',3304299000,6181986,0,0,1,0,'000',
'100028060501433252208','BEITRAGDERSPIEGEL')!
 
Enter command:
INSERT INTO UMSATZ VALUES (
'19970609',8617,'0883107000','AAAAAAAA10QR','AA10QR9831',
'ABABACAC200000','AH25162563','AE','ABABAB000004','..',
'0000000000',7,1002.00,0.00,0.00,0.00,0.00,0.00,19970609,'1',
20,75,0,'E','10QR9831',883107000,82044000,0,0,1,0,'000',
'RECHNUNG-NR.00019','SCHLER-NR.K112')!
 
Enter command:
INSERT INTO UMSATZ VALUES (
'19970609',9565,'0881813000','AAAAAAAA11GI','AA11GI9831',
'ABABACAC200000','AK25090500','AE','ABABAB000004','..',
'0000000000',9,1000.00,0.00,0.00,0.00,0.00,0.00,19970609,'0',
20,75,0,'I','11GI9831',881813000,222232,2000,0,1,0,'000',
'UMBUCHUNGAUFKONTO222232','')!
 
Enter command:
INSERT INTO UMSATZ VALUES (
'19970609',9567,'0222232000','AAAAAAAA11GI','AA11GI9831',
'ABABACAC200000','AK25090500','AE','ABABAH060002','..',
'0000000000',9,0.00,1000.00,0.00,0.00,0.00,0.00,19970609,'0',
51,0,0,'I','11GI9831',222232000,881813,2000,0,0,1,'000',
'UMBUCHUNGAUFKONTO222232','')!
 
Enter command:
INSERT INTO UMSATZ VALUES (
'19970609',9581,'1882899000','AAAAACAG15AE','AA15AE9831',
'ABABACAC200000','AG29151731','AE','ABABAB000004','..',
'0000000000',9,677.95,0.00,0.00,0.00,0.00,0.00,19970609,'1',
20,75,0,'E','15AE9831',1882899000,2341,0,0,1,0,'000',
'-UR-NR.123/97','WENGORZ/TESTAMENT')!
 
Enter command:
INSERT INTO UMSATZ VALUES (
'19970609',11530,'1880144000','AAAAAJAN10CI','AA10CI9831',
'ABABACAC200000','AK25090500','AE','ABABAB000004','..',
'0000000000',11,434.06,0.00,0.00,0.00,0.00,0.00,19970609,'0',
20,75,0,'I','10CI9831',1880144000,111880144,2400,0,1,0,'000',
'GEBURTSTAGSGELD','')!
 
Enter command:
INSERT INTO UMSATZ VALUES (
'19970609',11531,'1880144000','AAAAAJAN10CI','AA10CI9831',
'ABAFAEAE240000','AK25090500','AE','ABABAB000004','..',
'0000000000',11,0.00,434.06,0.00,0.00,0.00,0.00,19970609,'0',
51,0,0,'I','10CI9831',1880144101,1880144,2000,0,0,1,'000',
'GEBURTSTAGSGELD','')!
 
Enter command:
INSERT INTO UMSATZ VALUES (
'19970609',12533,'0999903000','AAAAACAG15AT','AA15AT9831',
'ABABACAC200000','AG25050000','AE','ABABAC010000','..',
'0000000000',12,683.00,0.00,0.00,0.00,0.00,0.00,19970609,'1',
20,75,0,'E','15AT9831',999903000,101313047,0,0,1,0,'000',
'5700820010902MFZ','57DEL-EC10/9')!
 
Enter command:
INSERT INTO UMSATZ VALUES (
'19970609',12553,'1882538000','AAAAACAG15AT','AA15AT9831',
'ABABACAC200000','AC20010020','AE','ABABAB000004','..',
'0000000000',12,63.94,0.00,0.00,0.00,0.00,0.00,19970609,'1',
20,75,0,'E','15AT9831',1882538000,5392800201,0,0,1,0,'000',
'BAZ4221000706936','KTO422100070693')!
 
Enter command:
PARS_THEN_EX !
 
Enter command:
DATA !
 
Enter command:
 SELECT COUNT(*)
     FROM S_TG_ME_PN
    WHERE TAG_ID = :SUCHKRIT!
 
c 10 '19970609'
 
resultcount :                     1
 
Enter command:
NODATA !
 
Enter command:
 FETCH INTO :ANZ_ST!
 
EXPRESSION1
-----------
          6
 
resultcount :                     1
 
Enter command:
DATA !
 
Enter command:
 SELECT COUNT(*)
     FROM ( SELECT COUNT(*)
       FROM UMSATZ
        WHERE TAG_ID = :SUCHKRIT
      GROUP BY TAG_ID, MEDIUM_ID, PN1_KEY )!
 
c 10 '19970609'
 
resultcount :                     1
 
Enter command:
NODATA!
 
Enter command:
 FETCH INTO :ANZ_FK!
 
EXPRESSION1
-----------
          6
 
resultcount :                     1
 
Enter command:
DATA !
 
Enter command:
 SELECT U.TAG_ID, U.MEDIUM_ID, U.PN1_KEY
     FROM UMSATZ U
     WHERE TAG_ID = :SUCHKRIT
     GROUP BY TAG_ID, MEDIUM_ID, PN1_KEY
     HAVING NOT EXISTS ( SELECT * FROM S_TG_ME_PN ST
     WHERE ST.TAG_ID = U.TAG_ID
       AND ST.MEDIUM_ID = U.MEDIUM_ID
       AND ST.PN1_KEY = U.PN1_KEY )!
 
c 10 '19970609'
 
***ERROR    100 Row not found                                              0001
 
Enter command:
NODATA!
 
Enter command:
  FETCH INTO
   :TAG_ID, :MEDIUM_ID, :PN1_KEY!
 
***ERROR    100 Row not found                                              0001
 
Enter command:
DATA !
 
Enter command:
 SELECT ST.TAG_ID, ST.MEDIUM_ID, ST.PN1_KEY,
                 FK.UDS, FK.UDH, FK.UES, FK.UEH, FK.GD, FK.GE,
   FK.AS, FK.AH,
   ST.UMSATZ_DM_S, ST.UMSATZ_DM_H,
   ST.UMSATZ_EURO_S, ST.UMSATZ_EURO_H,
   ST.GEBUEHR_DM, ST.GEBUEHR_EURO, ST.ANZAHL_S,
                        ST.ANZAHL_H
     FROM S_TG_ME_PN ST,
   ( SELECT TAG_ID, MEDIUM_ID, PN1_KEY,
     SUM(UMSATZ_DM_S) UDS,SUM(UMSATZ_DM_H) UDH,
     SUM(UMSATZ_EURO_S) UES,SUM(UMSATZ_EURO_H) UEH,
     SUM(GEBUEHR_DM) GD,SUM(GEBUEHR_EURO) GE,
     SUM(ANZAHL_S) AS AS,SUM(ANZAHL_H) AH
       FROM UMSATZ U
         WHERE U.TAG_ID = :SUCHKRIT
         GROUP BY U.TAG_ID, U.MEDIUM_ID, U.PN1_KEY ) FK
    WHERE FK.TAG_ID = ST.TAG_ID
      AND FK.MEDIUM_ID = ST.MEDIUM_ID
      AND FK.PN1_KEY = ST.PN1_KEY
      AND (FK.UDS != ST.UMSATZ_DM_S OR
    FK.UDH != ST.UMSATZ_DM_H OR
    FK.UES != ST.UMSATZ_EURO_S OR
    FK.UEH != ST.UMSATZ_EURO_H OR
    FK.GD  != ST.GEBUEHR_DM OR
    FK.GE  != ST.GEBUEHR_EURO OR
    FK.AS  != ST.ANZAHL_S OR
    FK.AH  != ST.ANZAHL_H)!
 
c 10 '19970609'
 
***ERROR    100 Row not found                                              0001
 
Enter command:
NODATA!
 
Enter command:
  FETCH INTO
   :TAG_ID, :MEDIUM_ID, :PN1_KEY,
                 :FK_UDS, :FK_UDH, :FK_UES, :FK_UEH,
   :FK_GD, :FK_GE, :FK_AS, :FK_AH,
                 :ST_UDS, :ST_UDH, :ST_UES, :ST_UEH,
   :ST_GD, :ST_GE, :ST_AS, :ST_AH!
 
***ERROR    100 Row not found                                              0001
 
Enter command:
PARS_EXECUTE !
 
Enter command:
DROP TABLE "S_TG_ME_PN"!
 
Enter command:
DROP TABLE "UMSATZ"!
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE TABX
( K FIXED(5),
  I FIXED(6),
  N FIXED(7),
  PRIMARY KEY( K,N ))!
 
Enter command:
INSERT TABX VALUES( 1, 1, 1)!
 
Enter command:
COMMIT!
 
Enter command:
CREATE TABLE TABY
( K FIXED(8),
  I FIXED(9),
  N FIXED(10),
  PRIMARY KEY( K,N ))!
 
Enter command:
INSERT TABY VALUES( 1, 1, 1)!
 
Enter command:
COMMIT!
 
Enter command:
CREATE TABLE TABZ
( K FIXED(11),
  I FIXED(12),
  N FIXED(13),
  PRIMARY KEY( K,N ))!
 
Enter command:
INSERT TABZ VALUES( 1, 1, 1)!
 
Enter command:
COMMIT!
 
Enter command:
SELECT * FROM TABZ !
 
resultcount :               unknown
 
Enter command:
FETCH!
 
K            | I             | N
-------------+---------------+---------------
           1 |             1 |              1
 
resultcount :                     1
 
Enter command:
CREATE VIEW A1
AS SELECT K,I,N FROM TABY T2
   WHERE ( N, I) IN
  (SELECT K, I FROM TABX WHERE N =  T2.K)!
 
Enter command:
SELECT * FROM TABZ !
 
resultcount :               unknown
 
Enter command:
FETCH!
 
K            | I             | N
-------------+---------------+---------------
           1 |             1 |              1
 
resultcount :                     1
 
Enter command:
 
CREATE VIEW C1
AS SELECT K,I,N FROM TABY T0
WHERE (K,N) IN ( SELECT AVG(N),AVG(K) FROM TABZ
  GROUP BY I
  HAVING T0.I >= AVG(N))!
 
Enter command:
SELECT * FROM TABZ !
 
resultcount :               unknown
 
Enter command:
FETCH!
 
K            | I             | N
-------------+---------------+---------------
           1 |             1 |              1
 
resultcount :                     1
 
Enter command:
 
SELECT * FROM A1!
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
resultcount :                     1
 
Enter command:
FETCH!
 
K         | I          | N
----------+------------+------------
        1 |          1 |           1
 
resultcount :                     1
 
Enter command:
SELECT * FROM TABZ !
 
resultcount :               unknown
 
Enter command:
FETCH!
 
K            | I             | N
-------------+---------------+---------------
           1 |             1 |              1
 
resultcount :                     1
 
Enter command:
SELECT K,I,N FROM TABY T0
WHERE (K,N) IN ( SELECT AVG(N),AVG(K) FROM TABZ
  GROUP BY I
  HAVING T0.I >= AVG(N))!
 
resultcount :                     1
 
Enter command:
FETCH!
 
K         | I          | N
----------+------------+------------
        1 |          1 |           1
 
resultcount :                     1
 
Enter command:
COMMIT!
 
Enter command:
SELECT * FROM TABZ !
 
resultcount :               unknown
 
Enter command:
FETCH!
 
K            | I             | N
-------------+---------------+---------------
           1 |             1 |              1
 
resultcount :                     1
 
Enter command:
 
SELECT T1.K COL1, T1.N COL2 FROM TABZ T1
WHERE T1.K IN (SELECT T3.N FROM A1 T3)!
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
resultcount :                     1
 
Enter command:
FETCH!
 
COL1         | COL2
-------------+---------------
           1 |              1
 
resultcount :                     1
 
Enter command:
SELECT * FROM TABZ !
 
resultcount :               unknown
 
Enter command:
FETCH!
 
K            | I             | N
-------------+---------------+---------------
           1 |             1 |              1
 
resultcount :                     1
 
Enter command:
 
SELECT K,I,N FROM C1 T0
WHERE (K,N) IN ( SELECT AVG(N),AVG(K) FROM TABY
  GROUP BY  I)!
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
resultcount :                     1
 
Enter command:
FETCH!
 
K         | I          | N
----------+------------+------------
        1 |          1 |           1
 
resultcount :                     1
 
Enter command:
 
SELECT T1.K COL1, T1.N COL2 FROM TABZ T1
WHERE T1.K IN (SELECT T3.N FROM A1 T3)!
 
*** SQLSTATEMENT HAS BEEN OPTIMIZED
 
resultcount :                     1
 
Enter command:
FETCH!
 
COL1         | COL2
-------------+---------------
           1 |              1
 
resultcount :                     1
 
Enter command:
DROP TABLE TABX !
 
Enter command:
DROP TABLE TABY !
 
Enter command:
DROP TABLE TABZ !
 
Enter command:
COMMIT WORK RELEASE!
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE CH (
     START_LPNO       FIXED(10),
     STOP_LPNO        FIXED(10)
     )!
 
Enter command:
INSERT INTO CH VALUES (123456, 123460)!
 
Enter command:
INSERT INTO CH VALUES (234567, 234890)!
 
Enter command:
CREATE TABLE CR (
     CMD_ID          CHAR(15),
     REP_DATE        CHAR(5)  ASCII,
     REP_TIME        CHAR(8),
     LINE            CHAR(80) ASCII
     )!
 
Enter command:
INSERT CR VALUES ('abcdefghij','12-12','17:30:00',
  'abcdefghijklmnopqrstuv 123456 zyxw')!
 
Enter command:
INSERT CR VALUES ('abcdefghij','12-11','18:30:00',
  'abcdefghIJKLMNOPQRSTUV 123456 zyxw')!
 
Enter command:
INSERT CR VALUES ('mnopqrstuv','12-10','19:30:00',
  'abcdefghIJKLMNOPQRSTUV 234567 zyxw')!
 
Enter command:
SELECT REP_DATE, REP_TIME, LINE
FROM CH H, CR R
WHERE R.CMD_ID   = ANY (SELECT CMD_ID
                  FROM CR
                  WHERE INDEX(LINE,RTRIM(CHR(H.START_LPNO)),20) > 0) !
 
resultcount :                     3
 
Enter command:
FETCH !
 
REP_DATE          :  12-12
REP_TIME          :  hh:mm:ss
LINE              :  abcdefghijklmnopqrstuv 123456 zyxw
--------------------------------------------------------------------------------
REP_DATE          :  12-11
REP_TIME          :  hh:mm:ss
LINE              :  abcdefghIJKLMNOPQRSTUV 123456 zyxw
--------------------------------------------------------------------------------
REP_DATE          :  12-10
REP_TIME          :  hh:mm:ss
LINE              :  abcdefghIJKLMNOPQRSTUV 234567 zyxw
 
resultcount :                     3
 
Enter command:
ROLLBACK RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
 
CREATE TABLE RSUPDINFO
(
"UPDID"       VARCHAR (25) ASCII,
"OBJVERS"       VARCHAR (1) ASCII,
"INFOCUBE"       VARCHAR (30) ASCII,
"ISOURCE"       VARCHAR (30) ASCII,
"URPROGID"       VARCHAR (25) ASCII,
"WIPROGID"       VARCHAR (25) ASCII,
"TIMESTMPCUBE"       FIXED (15,0) DEFAULT 0,
"TSTPNM"       VARCHAR (12) ASCII,
"TIMESTMP"       FIXED (15,0)  DEFAULT 0,
"OBJSTAT"       VARCHAR (3) ASCII,
"CONTREL"       VARCHAR (6) ASCII,
"CONTTIMESTMP"       FIXED (15,0) DEFAULT 0,
"OWNER"       VARCHAR (12) ASCII,
"BWAPPL"       VARCHAR (10) ASCII,
"ACTIVFL"       VARCHAR (1) ASCII,
"EXPERTMODE"       VARCHAR (1) ASCII,
"STARTROUTINE"       VARCHAR (4) ASCII DEFAULT '0000',
"ODSPROGID"       VARCHAR (25) ASCII,
PRIMARY KEY ("UPDID", "OBJVERS")
)!
 
Enter command:
 
INSERT INTO RSUPDINFO VALUES (
 '02KVB5MVIMSBCNFKCB0OK0J33',
 'D',
 '0QM_C03',
 '2LIS_07_S296',
 '06UBLTK29E9NMZSORMFQ8NTEN',
 '08Z1R5INMS0BS5Z8ZA592ZGKF',
 19990810174456,
 'SAP',
 19990810174457,
 'ACT',
 '2.0/01',
 0,
 'SAP',
 ' ',
 'X',
 ' ',
 '0000',
 ' ')!
 
Enter command:
 
SELECT
  *
FROM
  "RSUPDINFO" T_00
WHERE
  T_00 . "OBJVERS" = 'D' AND  EXISTS (
     SELECT  T_100 . "INFOCUBE"
     FROM  "RSUPDINFO" T_100
     WHERE  T_100."INFOCUBE" = T_00."INFOCUBE" AND
            T_100."ISOURCE" = T_00."ISOURCE" AND
            T_100 . "OBJVERS" = 'D'
     GROUP BY
       T_100 . "INFOCUBE" , T_100 . "ISOURCE"
     HAVING
      COUNT(*) >= 2 )
ORDER BY
  "INFOCUBE" , "ISOURCE" !
 
***ERROR    100 Row not found                                              0001
 
Enter command:
 
FETCH!
 
***ERROR    100 Row not found                                              0001
 
Enter command:
 
PARSING !
 
Enter command:
 
SELECT
  *
FROM
  "RSUPDINFO" T_00
WHERE
  T_00 . "OBJVERS" = ? AND  EXISTS (
     SELECT  T_100 . "INFOCUBE"
     FROM  "RSUPDINFO" T_100
     WHERE  T_100."INFOCUBE" = T_00."INFOCUBE" AND
            T_100."ISOURCE" = T_00."ISOURCE" AND
            T_100 . "OBJVERS" = ?
     GROUP BY
       T_100 . "INFOCUBE" , T_100 . "ISOURCE"
     HAVING
      COUNT(*) >= ? )
ORDER BY
  "INFOCUBE" , "ISOURCE" !
parsing idnr :       1
 
Enter command:
 
EXECUTING !
 
Enter command:
DATA !
 
Enter command:
SELECT !
Parsing idnr :      1
 
c 3 'D' c 3 'D' n 38 2
 
***ERROR    100 Row not found                                              0001
 
Enter command:
NODATA !
 
Enter command:
PARS_EXECUTE !
 
Enter command:
ROLLBACK WORK RELEASE !
 
Enter command:
 
FILE CONNECT ( SUT SUT !
 
Enter command:
CONNECT SUT IDENTIFIED BY SUT   ISOLATION LEVEL 1 !
 
Enter command:
CREATE USER MAT2 PASSWORD MAT2 DBA NOT EXCLUSIVE!
 
Enter command:
COMMIT RELEASE !
 
Enter command:
 
FILE CONNECT ( MAT2 MAT2 !
 
Enter command:
CONNECT MAT2 IDENTIFIED BY MAT2   ISOLATION LEVEL 1 !
 
Enter command:
CREATE USERGROUP MM3 RESOURCE NOT EXCLUSIVE!
 
Enter command:
CREATE USER MAT3 PASSWORD MAT3 USERGROUP MM3!
 
Enter command:
 
 
CREATE TABLE "RABF_KOPF"          (
"AUFTRAG_ART       " CHAR      (1) ASCII    ,
"AUFTRAG_JAHR      " FIXED     (2,0) ,
"AUFTRAG_NR        " FIXED     (6,0) ,
"PROJEKT_STICHWORT " CHAR      (60) ASCII    ,
"PROJEKT_INHALT1   " CHAR      (60) ASCII    ,
"PROJEKT_INHALT2   " CHAR      (60) ASCII    ,
"DEBITOR_NR        " FIXED     (6,0) ,
"ANSCHRIFT_NR      " FIXED     (2,0) ,
"SPRACHE           " CHAR      (3) ASCII    ,
"WAEHRUNG          " CHAR      (3) ASCII    ,
"WECHSELKURS       " FLOAT     (8) ,
"REGION            " FIXED     (1,0) ,
"LAND              " CHAR      (3) ASCII    ,
"WERT_GUTS         " FIXED     (11,2) ,
"AUFTR_WERT_BRUTTO " FIXED     (11,2) ,
"AUFTR_WERT_NETTO  " FIXED     (11,2) ,
"AUFTR_FREW_NETTO  " FIXED     (14,2) ,
"POSITION_GESAMT   " FIXED     (5,0) ,
"POSITION_BERECHN  " FIXED     (5,0) ,
"L_AEND_INDEX      " FIXED     (2,0) ,
"AE_SACHBEARBEITER " CHAR      (8) ASCII    ,
"AE_DATUM          " DATE      ,
"AUFTR_BEREICH     " CHAR      (8) ASCII    ,
"AUFTR_ART_ABR     " CHAR      (1) ASCII    ,
"AUFTR_JAHR_ABR    " FIXED     (2,0) ,
"AUFTR_NR_ABR      " FIXED     (6,0) ,
"WECHSELKURS_ALT   " FLOAT     (16) ,
"AUFTR_WERT_BR_DM  " FIXED     (14,2) ,
"AUFTR_WERT_NE_DM  " FIXED     (14,2)
, PRIMARY KEY ("AUFTRAG_ART"
,"AUFTRAG_JAHR"
,"AUFTRAG_NR"
))!
 
Enter command:
 
CREATE TABLE "RABF_FKOPF"         (
"AUFTRAG_ART       " CHAR      (1) ASCII    ,
"AUFTRAG_JAHR      " FIXED     (2,0) ,
"AUFTRAG_NR        " FIXED     (6,0) ,
"AEND_INDEX        " FIXED     (2,0) ,
"AUFTR_ART_ANG     " CHAR      (1) ASCII    ,
"AUFTR_JAHR_ANG    " FIXED     (2,0) ,
"AUFTR_NR_ANG      " FIXED     (6,0) ,
"AEND_INDEX_ANG    " FIXED     (2,0) ,
"DATUM             " DATE      ,
"ZEICHEN           " CHAR      (15) ASCII    ,
"TEXT1             " CHAR      (50) ASCII    ,
"TEXT2             " CHAR      (50) ASCII    ,
"FKOPF_WERT_BRUTTO " FIXED     (11,2) ,
"FKOPF_WERT_NETTO  " FIXED     (11,2) ,
"FKOPF_FREW_NETTO  " FIXED     (14,2) ,
"GEWICHT           " FIXED     (11,3) ,
"VERTRETER_KZ      " CHAR      (1) ASCII    ,
"VERTRETER_NR      " FIXED     (6,0) ,
"PROV_SCHL         " FIXED     (3,0) ,
"PROV_WERT         " FIXED     (11,2) ,
"DATUM_ERFASSUNG   " DATE      ,
"DATUM_DRUCK       " DATE      ,
"AE_SACHBEARBEITER " CHAR      (8) ASCII    ,
"AE_DATUM          " DATE      ,
"FKOPF_WERT_BR_DM  " FIXED     (14,2) ,
"FKOPF_WERT_NE_DM  " FIXED     (14,2)
, PRIMARY KEY ("AUFTRAG_ART"
,"AUFTRAG_JAHR"
,"AUFTRAG_NR"
,"AEND_INDEX"
))!
 
Enter command:
 
CREATE TABLE "RABF_POS"           (
"AUFTRAG_ART       " CHAR      (1) ASCII    ,
"AUFTRAG_JAHR      " FIXED     (2,0) ,
"AUFTRAG_NR        " FIXED     (6,0) ,
"AEND_INDEX        " FIXED     (2,0) ,
"AUFTR_POSITION    " FIXED     (4,0) ,
"LFD_NR            " FIXED     (3,0) ,
"IDENT_NR          " FIXED     (10,0) ,
"ORDN_NR           " FIXED     (4,0) ,
"VERTEIL_SCHL      " FIXED     (4,0) ,
"PROD_GRP          " FIXED     (4,0) ,
"KUNDEN_POS        " CHAR      (15) ASCII    ,
"INTERNE_POS       " CHAR      (15) ASCII    ,
"BERECH_MODUS      " CHAR      (1) ASCII    ,
"SONSTIGES_KZ      " CHAR      (1) ASCII    ,
"SONSTIGES         " CHAR      (20) ASCII    ,
"ZEICH_NR          " CHAR      (20) ASCII    ,
"PREIS_BASIS       " FIXED     (4,0) ,
"MENGE_BESTELLT    " FIXED     (9,3) ,
"ART_WERT_BRUTTO   " FIXED     (11,2) ,
"ART_FREW_BRUTTO   " FIXED     (11,2) ,
"POS_WERT_BRUTTO   " FIXED     (11,2) ,
"POS_WERT_NETTO    " FIXED     (11,2) ,
"POS_WERT_VORAB    " FIXED     (11,2) ,
"POS_FREW_NETTO    " FIXED     (14,2) ,
"GEWICHT           " FIXED     (9,3) ,
"MENGE_LIEF        " FIXED     (9,3) ,
"MENGE_FAKT        " FIXED     (9,3) ,
"MENGE_GUTS        " FIXED     (9,3) ,
"LIEF_WERT_NETTO   " FIXED     (14,2) ,
"FAKT_WERT_NETTO   " FIXED     (14,2) ,
"GUTS_WERT_NETTO   " FIXED     (11,2) ,
"VERARBEITUNGS_KZ  " CHAR      (1) ASCII    ,
"WAREN_NR          " FIXED     (9,0) ,
"MENGEN_EINHEIT    " CHAR      (4) ASCII    ,
"AM_LEISTE         " FIXED     (6,0) ,
"BERECH_ART        " CHAR      (1) ASCII    ,
"AE_SACHBEARBEITER " CHAR      (8) ASCII    ,
"AE_DATUM          " DATE      ,
"WECHSELKURS       " FLOAT     (16) ,
"WECHSELKURS_ALT   " FLOAT     (16) ,
"ART_WERT_BRUTTO_DM" FIXED     (14,2) ,
"POS_WERT_BRUTTO_DM" FIXED     (14,2) ,
"POS_WERT_NETTO_DM " FIXED     (14,2) ,
"POS_WERT_VORAB_DM " FIXED     (14,2) ,
"LIEF_WERT_NETTO_DM" FIXED     (14,2) ,
"FAKT_WERT_NETTO_DM" FIXED     (14,2) ,
"GUTS_WERT_NETTO_DM" FIXED     (14,2) ,
"ZUORDNUNG" CHAR      (1) ASCII    ,
"PROD_BEREICH" CHAR      (1) ASCII    ,
"KURZ_PROD_GRP" FIXED     (2,0)
, PRIMARY KEY ("AUFTRAG_ART"
,"AUFTRAG_JAHR"
,"AUFTRAG_NR"
,"AEND_INDEX"
,"AUFTR_POSITION"
,"LFD_NR"
))!
 
Enter command:
 
GRANT ALL ON RABF_KOPF TO MM3!
 
Enter command:
GRANT ALL ON RABF_FKOPF TO MM3!
 
Enter command:
GRANT ALL ON RABF_POS TO MM3!
 
Enter command:
 
SELECT AUFTRAG_ART , AUFTRAG_JAHR , AUFTRAG_NR ,
AEND_INDEX , AUFTR_ART_ANG ,
AUFTR_JAHR_ANG , AUFTR_NR_ANG , AEND_INDEX_ANG ,
DATUM , ZEICHEN , TEXT1 , TEXT2 ,
FKOPF_WERT_BRUTTO ,
FKOPF_WERT_NETTO , FKOPF_FREW_NETTO , GEWICHT ,
VERTRETER_KZ , VERTRETER_NR ,
PROV_SCHL , PROV_WERT , DATUM_ERFASSUNG ,
DATUM_DRUCK , AE_SACHBEARBEITER ,
AE_DATUM FROM RABF_FKOPF
WHERE RABF_FKOPF.AUFTRAG_ART = '6' AND AUFTRAG_JAHR = 2 AND
AUFTRAG_NR = 10 AND NOT EXISTS
( SELECT RABF_POS.AUFTR_POSITION FROM RABF_POS
WHERE RABF_POS.AUFTRAG_ART = '6' AND
AUFTRAG_JAHR = 2 AND AUFTRAG_NR = 10 AND
AEND_INDEX = RABF_FKOPF.AEND_INDEX )!
 
***ERROR    100 Row not found                                              0001
 
Enter command:
 
COMMIT RELEASE !
 
Enter command:
 
FILE CONNECT ( MAT3 MAT3 !
 
Enter command:
CONNECT MAT3 IDENTIFIED BY MAT3   ISOLATION LEVEL 1 !
 
Enter command:
SELECT AUFTRAG_ART , AUFTRAG_JAHR , AUFTRAG_NR ,
AEND_INDEX , AUFTR_ART_ANG ,
AUFTR_JAHR_ANG , AUFTR_NR_ANG , AEND_INDEX_ANG ,
DATUM , ZEICHEN , TEXT1 , TEXT2 ,
FKOPF_WERT_BRUTTO ,
FKOPF_WERT_NETTO , FKOPF_FREW_NETTO , GEWICHT ,
VERTRETER_KZ , VERTRETER_NR ,
PROV_SCHL , PROV_WERT , DATUM_ERFASSUNG ,
DATUM_DRUCK , AE_SACHBEARBEITER ,
AE_DATUM FROM RABF_FKOPF
WHERE RABF_FKOPF.AUFTRAG_ART = '6' AND AUFTRAG_JAHR = 2 AND
AUFTRAG_NR = 10 AND NOT EXISTS
( SELECT RABF_POS.AUFTR_POSITION FROM RABF_POS RABF_POS
WHERE RABF_POS.AUFTRAG_ART = '6' AND
RABF_POS.AUFTRAG_JAHR = 2 AND RABF_POS.AUFTRAG_NR = 10 AND
RABF_POS.AEND_INDEX = RABF_FKOPF.AEND_INDEX )!
 
***ERROR    100 Row not found                                              0001
 
Enter command:
 
SELECT AUFTRAG_ART , AUFTRAG_JAHR , AUFTRAG_NR ,
AEND_INDEX , AUFTR_ART_ANG ,
AUFTR_JAHR_ANG , AUFTR_NR_ANG , AEND_INDEX_ANG ,
DATUM , ZEICHEN , TEXT1 , TEXT2 ,
FKOPF_WERT_BRUTTO ,
FKOPF_WERT_NETTO , FKOPF_FREW_NETTO , GEWICHT ,
VERTRETER_KZ , VERTRETER_NR ,
PROV_SCHL , PROV_WERT , DATUM_ERFASSUNG ,
DATUM_DRUCK , AE_SACHBEARBEITER ,
AE_DATUM FROM RABF_FKOPF
WHERE RABF_FKOPF.AUFTRAG_ART = '6' AND AUFTRAG_JAHR = 2 AND
AUFTRAG_NR = 10 AND NOT EXISTS
( SELECT RABF_POS.AUFTR_POSITION FROM RABF_POS
WHERE RABF_POS.AUFTRAG_ART = '6' AND
AUFTRAG_JAHR = 2 AND AUFTRAG_NR = 10 AND
AEND_INDEX = RABF_FKOPF.AEND_INDEX )!
 
***ERROR    100 Row not found                                              0001
 
Enter command:
 
SELECT AUFTRAG_ART , AUFTRAG_JAHR , AUFTRAG_NR ,
AEND_INDEX , AUFTR_ART_ANG ,
AUFTR_JAHR_ANG , AUFTR_NR_ANG , AEND_INDEX_ANG ,
DATUM , ZEICHEN , TEXT1 , TEXT2 ,
FKOPF_WERT_BRUTTO ,
FKOPF_WERT_NETTO , FKOPF_FREW_NETTO , GEWICHT ,
VERTRETER_KZ , VERTRETER_NR ,
PROV_SCHL , PROV_WERT , DATUM_ERFASSUNG ,
DATUM_DRUCK , AE_SACHBEARBEITER ,
AE_DATUM FROM RABF_FKOPF
WHERE RABF_FKOPF.AUFTRAG_ART = '6' AND AUFTRAG_JAHR = 2 AND
AUFTRAG_NR = 10 AND NOT EXISTS
( SELECT RABF_POS.AUFTR_POSITION FROM RABF_POS RABF_POS
WHERE RABF_POS.AUFTRAG_ART = '6' AND
RABF_POS.AUFTRAG_JAHR = 2 AND RABF_POS.AUFTRAG_NR = 10 AND
RABF_POS.AEND_INDEX = RABF_FKOPF.AEND_INDEX )!
 
***ERROR    100 Row not found                                              0001
 
Enter command:
ROLLBACK RELEASE !
 
Enter command:
 
FILE CONNECT ( MAT2 MAT2 !
 
Enter command:
CONNECT MAT2 IDENTIFIED BY MAT2   ISOLATION LEVEL 1 !
 
Enter command:
DROP USER MAT3 !
 
Enter command:
DROP USERGROUP MM3 !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CONNECT ( SUT SUT !
 
Enter command:
CONNECT SUT IDENTIFIED BY SUT   ISOLATION LEVEL 1 !
 
Enter command:
DROP USER MAT2 !
 
Enter command:
COMMIT RELEASE !
 
Enter command:
FILE CONNECT ( KERN TEST !
 
Enter command:
CONNECT KERN IDENTIFIED BY TEST   ISOLATION LEVEL 1 !
 
Enter command:
CREATE TABLE T2 (PATH CHAR(200), ID INT)!
 
Enter command:
INSERT INTO T2 SET PATH = '/root', ID = 1!
 
Enter command:
INSERT INTO T2 SET PATH = '/root/test', ID = 2!
 
Enter command:
INSERT INTO T2 SET PATH = '/root/test/', ID = 3!
 
Enter command:
INSERT INTO T2 SET PATH = '/root/test/file1', ID = 10!
 
Enter command:
INSERT INTO T2 SET PATH = '/root/test/file1/', ID = 11!
 
Enter command:
SELECT * FROM T2 R
WHERE 1 IN (
SELECT 1 FROM T2 R1
WHERE R1.PATH LIKE (R.PATH||'/')
)!
 
resultcount :                     2
 
Enter command:
FETCH!
 
PATH              :  /root/test
ID                :            2
--------------------------------------------------------------------------------
PATH              :  /root/test/file1
ID                :           10
 
resultcount :                     2
 
Enter command:
SELECT DISTINCT T.DUMMY FROM DUAL T
  WHERE EXISTS (SELECT * FROM DUAL T1
                 WHERE T1.DUMMY = T.DUMMY)
 GROUP BY T.DUMMY !
 
resultcount :                     1
 
Enter command:
SELECT DISTINCT T.DUMMY FROM DUAL T
  WHERE EXISTS (SELECT * FROM DUAL T1
                 WHERE T1.DUMMY = T.DUMMY) !
 
resultcount :                     1
 
Enter command:
SELECT DISTINCT T.DUMMY FROM DUAL T
  WHERE T.DUMMY <> 'b'
 GROUP BY T.DUMMY !
 
resultcount :                     1
 
Enter command:
ROLLBACK WORK RELEASE !
 
Enter command:
FILE CONNECT ( SUT SUT!
 
Enter command:
CONNECT SUT IDENTIFIED BY SUT   ISOLATION LEVEL 1 !
 
Enter command:
SELECT * FROM DUAL Y WHERE
             EXISTS (SELECT * FROM DUAL WHERE DUMMY=Y.DUMMY     )!
 
resultcount :                     1
 
Enter command:
SELECT * FROM DUAL Y WHERE
             EXISTS (SELECT * FROM  (SELECT * FROM DUAL)       )!
 
resultcount :                     1
 
Enter command:
SELECT * FROM DUAL Y WHERE
             EXISTS (SELECT * FROM DUAL WHERE DUMMY=Y.DUMMY     )
             AND
             EXISTS (SELECT * FROM  (SELECT * FROM DUAL)     )!
 
***ERROR  -7058 Correlated subquery with select in from clause not allowed 0001
 
Enter command:
SELECT * FROM
    (
        SELECT * FROM DUAL Y WHERE
             EXISTS (SELECT * FROM DUAL WHERE DUMMY=Y.DUMMY     )
    ),
    (
        SELECT * FROM DUAL Y WHERE
             EXISTS (SELECT * FROM  (SELECT * FROM DUAL)     )
    )    !
 
***ERROR  -7058 Correlated subquery with select in from clause not allowed 0001
 
Enter command:
ROLLBACK RELEASE !
 
Enter command:
FILE SHUTDWNK !
 
Enter command:
CONNECT SUT IDENTIFIED BY SUT !
 
Enter command:
DROP USER KERN !
 
Enter command:
COMMIT WORK RELEASE !
 
Enter command:
FILE SHUTDOWN !
 
Enter command:
DBMCLI SUPERDBA,COLDUSER!
UTIL_CONNECT SUT,SUT!
OK
 
DB_OFFLINE!
OK
 
BYE!
 
Enter command:
VDNEXIT !
SESSION END
 
